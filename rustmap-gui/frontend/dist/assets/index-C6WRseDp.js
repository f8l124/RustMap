var Tl=Object.defineProperty;var Qa=t=>{throw TypeError(t)};var Rl=(t,e,s)=>e in t?Tl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var it=(t,e,s)=>Rl(t,typeof e!="symbol"?e+"":e,s),ca=(t,e,s)=>e.has(t)||Qa("Cannot "+s);var o=(t,e,s)=>(ca(t,e,"read from private field"),s?s.call(t):e.get(t)),E=(t,e,s)=>e.has(t)?Qa("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),X=(t,e,s,r)=>(ca(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s),Ie=(t,e,s)=>(ca(t,e,"access private method"),s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}})();const Al="5";var _i;typeof window<"u"&&((_i=window.__svelte??(window.__svelte={})).v??(_i.v=new Set)).add(Al);const Ml=1,Il=2,wi=4,Dl=8,Fl=16,Nl=1,$l=2,zl=4,Ol=8,ql=16,Ll=1,Hl=2,Pe=Symbol(),xi="http://www.w3.org/1999/xhtml",ga=!1;var Na=Array.isArray,Ul=Array.prototype.indexOf,Os=Array.prototype.includes,ea=Array.from,jl=Object.defineProperty,Rs=Object.getOwnPropertyDescriptor,ki=Object.getOwnPropertyDescriptors,Bl=Object.prototype,Wl=Array.prototype,$a=Object.getPrototypeOf,Ja=Object.isExtensible;const Vl=()=>{};function Kl(t){return t()}function ma(t){for(var e=0;e<t.length;e++)t[e]()}function Si(){var t,e,s=new Promise((r,n)=>{t=r,e=n});return{promise:s,resolve:t,reject:e}}const Te=2,tr=4,Cn=8,Pi=1<<24,Nt=16,dt=32,ms=64,Ei=128,tt=512,xe=1024,Re=2048,vt=4096,Ge=8192,At=16384,Tn=32768,ps=65536,Xa=1<<17,Ci=1<<18,js=1<<19,Ti=1<<20,Rt=1<<25,_s=65536,ya=1<<21,za=1<<22,Wt=1<<23,Mt=Symbol("$state"),Gl=Symbol("legacy props"),Yl=Symbol(""),rs=new class extends Error{constructor(){super(...arguments);it(this,"name","StaleReactionError");it(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};var gi,mi;const Ql=((mi=(gi=globalThis.document)==null?void 0:gi.contentType)==null?void 0:mi.includes("xml"))??!1;function Jl(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Xl(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Zl(t,e,s){throw new Error("https://svelte.dev/e/each_key_duplicate")}function eo(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function to(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function so(t){throw new Error("https://svelte.dev/e/effect_orphan")}function ro(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function no(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function ao(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function io(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function lo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function oo(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function co(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function uo(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Ri(t){return t===this.v}function vo(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Ai(t){return!vo(t,this.v)}let Bs=!1,fo=!1;function ho(){Bs=!0}let me=null;function qs(t){me=t}function ee(t,e=!1,s){me={p:me,i:!1,c:null,e:null,s:t,x:null,l:Bs&&!e?{s:null,u:null,$:[]}:null}}function te(t){var e=me,s=e.e;if(s!==null){e.e=null;for(var r of s)Yi(r)}return e.i=!0,me=e.p,{}}function Rn(){return!Bs||me!==null&&me.l===null}let ns=[];function Mi(){var t=ns;ns=[],ma(t)}function It(t){if(ns.length===0&&!Js){var e=ns;queueMicrotask(()=>{e===ns&&Mi()})}ns.push(t)}function po(){for(;ns.length>0;)Mi()}function Ii(t){var e=ae;if(e===null)return Z.f|=Wt,t;if((e.f&Tn)===0&&(e.f&tr)===0)throw t;Ls(t,e)}function Ls(t,e){for(;e!==null;){if((e.f&Ei)!==0){if((e.f&Tn)===0)throw t;try{e.b.error(t);return}catch(s){t=s}}e=e.parent}throw t}const _o=-7169;function ge(t,e){t.f=t.f&_o|e}function Oa(t){(t.f&tt)!==0||t.deps===null?ge(t,xe):ge(t,vt)}function Di(t){if(t!==null)for(const e of t)(e.f&Te)===0||(e.f&_s)===0||(e.f^=_s,Di(e.deps))}function Fi(t,e,s){(t.f&Re)!==0?e.add(t):(t.f&vt)!==0&&s.add(t),Di(t.deps),ge(t,xe)}const Hn=new Set;let J=null,Jn=null,Ee=null,Le=[],ta=null,ba=!1,Js=!1;var Ms,Is,ls,Ds,ar,ir,os,Et,Fs,xt,wa,xa,Ni;const Ya=class Ya{constructor(){E(this,xt);it(this,"committed",!1);it(this,"current",new Map);it(this,"previous",new Map);E(this,Ms,new Set);E(this,Is,new Set);E(this,ls,0);E(this,Ds,0);E(this,ar,null);E(this,ir,new Set);E(this,os,new Set);E(this,Et,new Map);it(this,"is_fork",!1);E(this,Fs,!1)}is_deferred(){return this.is_fork||o(this,Ds)>0}skip_effect(e){o(this,Et).has(e)||o(this,Et).set(e,{d:[],m:[]})}unskip_effect(e){var s=o(this,Et).get(e);if(s){o(this,Et).delete(e);for(var r of s.d)ge(r,Re),ct(r);for(r of s.m)ge(r,vt),ct(r)}}process(e){var n;Le=[],this.apply();var s=[],r=[];for(const a of e)Ie(this,xt,wa).call(this,a,s,r);if(this.is_deferred()){Ie(this,xt,xa).call(this,r),Ie(this,xt,xa).call(this,s);for(const[a,l]of o(this,Et))qi(a,l)}else{for(const a of o(this,Ms))a();o(this,Ms).clear(),o(this,ls)===0&&Ie(this,xt,Ni).call(this),Jn=this,J=null,Za(r),Za(s),Jn=null,(n=o(this,ar))==null||n.resolve()}Ee=null}capture(e,s){s!==Pe&&!this.previous.has(e)&&this.previous.set(e,s),(e.f&Wt)===0&&(this.current.set(e,e.v),Ee==null||Ee.set(e,e.v))}activate(){J=this,this.apply()}deactivate(){J===this&&(J=null,Ee=null)}flush(){if(this.activate(),Le.length>0){if($i(),J!==null&&J!==this)return}else o(this,ls)===0&&this.process([]);this.deactivate()}discard(){for(const e of o(this,Is))e(this);o(this,Is).clear()}increment(e){X(this,ls,o(this,ls)+1),e&&X(this,Ds,o(this,Ds)+1)}decrement(e){X(this,ls,o(this,ls)-1),e&&X(this,Ds,o(this,Ds)-1),!o(this,Fs)&&(X(this,Fs,!0),It(()=>{X(this,Fs,!1),this.is_deferred()?Le.length>0&&this.flush():this.revive()}))}revive(){for(const e of o(this,ir))o(this,os).delete(e),ge(e,Re),ct(e);for(const e of o(this,os))ge(e,vt),ct(e);this.flush()}oncommit(e){o(this,Ms).add(e)}ondiscard(e){o(this,Is).add(e)}settled(){return(o(this,ar)??X(this,ar,Si())).promise}static ensure(){if(J===null){const e=J=new Ya;Hn.add(J),Js||It(()=>{J===e&&e.flush()})}return J}apply(){}};Ms=new WeakMap,Is=new WeakMap,ls=new WeakMap,Ds=new WeakMap,ar=new WeakMap,ir=new WeakMap,os=new WeakMap,Et=new WeakMap,Fs=new WeakMap,xt=new WeakSet,wa=function(e,s,r){e.f^=xe;for(var n=e.first,a=null;n!==null;){var l=n.f,d=(l&(dt|ms))!==0,c=d&&(l&xe)!==0,u=c||(l&Ge)!==0||o(this,Et).has(n);if(!u&&n.fn!==null){d?n.f^=xe:a!==null&&(l&(tr|Cn|Pi))!==0?a.b.defer_effect(n):(l&tr)!==0?s.push(n):In(n)&&((l&Nt)!==0&&o(this,os).add(n),Us(n));var h=n.first;if(h!==null){n=h;continue}}var _=n.parent;for(n=n.next;n===null&&_!==null;)_===a&&(a=null),n=_.next,_=_.parent}},xa=function(e){for(var s=0;s<e.length;s+=1)Fi(e[s],o(this,ir),o(this,os))},Ni=function(){var n;if(Hn.size>1){this.previous.clear();var e=Ee,s=!0;for(const a of Hn){if(a===this){s=!1;continue}const l=[];for(const[c,u]of this.current){if(a.current.has(c))if(s&&u!==a.current.get(c))a.current.set(c,u);else continue;l.push(c)}if(l.length===0)continue;const d=[...a.current.keys()].filter(c=>!this.current.has(c));if(d.length>0){var r=Le;Le=[];const c=new Set,u=new Map;for(const h of l)zi(h,d,c,u);if(Le.length>0){J=a,a.apply();for(const h of Le)Ie(n=a,xt,wa).call(n,h,[],[]);a.deactivate()}Le=r}}J=null,Ee=e}this.committed=!0,Hn.delete(this)};let Vt=Ya;function go(t){var e=Js;Js=!0;try{for(var s;;){if(po(),Le.length===0&&(J==null||J.flush(),Le.length===0))return ta=null,s;$i()}}finally{Js=e}}function $i(){ba=!0;var t=null;try{for(var e=0;Le.length>0;){var s=Vt.ensure();if(e++>1e3){var r,n;mo()}s.process(Le),Kt.clear()}}finally{Le=[],ba=!1,ta=null}}function mo(){try{ro()}catch(t){Ls(t,ta)}}let lt=null;function Za(t){var e=t.length;if(e!==0){for(var s=0;s<e;){var r=t[s++];if((r.f&(At|Ge))===0&&In(r)&&(lt=new Set,Us(r),r.deps===null&&r.first===null&&r.nodes===null&&r.teardown===null&&r.ac===null&&Xi(r),(lt==null?void 0:lt.size)>0)){Kt.clear();for(const n of lt){if((n.f&(At|Ge))!==0)continue;const a=[n];let l=n.parent;for(;l!==null;)lt.has(l)&&(lt.delete(l),a.push(l)),l=l.parent;for(let d=a.length-1;d>=0;d--){const c=a[d];(c.f&(At|Ge))===0&&Us(c)}}lt.clear()}}lt=null}}function zi(t,e,s,r){if(!s.has(t)&&(s.add(t),t.reactions!==null))for(const n of t.reactions){const a=n.f;(a&Te)!==0?zi(n,e,s,r):(a&(za|Nt))!==0&&(a&Re)===0&&Oi(n,e,r)&&(ge(n,Re),ct(n))}}function Oi(t,e,s){const r=s.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const n of t.deps){if(Os.call(e,n))return!0;if((n.f&Te)!==0&&Oi(n,e,s))return s.set(n,!0),!0}return s.set(t,!1),!1}function ct(t){for(var e=ta=t;e.parent!==null;){e=e.parent;var s=e.f;if(ba&&e===ae&&(s&Nt)!==0&&(s&Ci)===0)return;if((s&(ms|dt))!==0){if((s&xe)===0)return;e.f^=xe}}Le.push(e)}function qi(t,e){if(!((t.f&dt)!==0&&(t.f&xe)!==0)){(t.f&Re)!==0?e.d.push(t):(t.f&vt)!==0&&e.m.push(t),ge(t,xe);for(var s=t.first;s!==null;)qi(s,e),s=s.next}}function yo(t){let e=0,s=Gt(0),r;return()=>{Ua()&&(i(s),ra(()=>(e===0&&(r=Qt(()=>t(()=>Xs(s)))),e+=1,()=>{It(()=>{e-=1,e===0&&(r==null||r(),r=void 0,Xs(s))})})))}}var bo=ps|js|Ei;function wo(t,e,s){new xo(t,e,s)}var Je,Fa,pt,cs,_t,Xe,qe,gt,Ct,jt,us,Bt,Ns,vs,$s,zs,Tt,Xn,ke,ko,So,ka,Vn,Kn,Sa;class xo{constructor(e,s,r){E(this,ke);it(this,"parent");it(this,"is_pending",!1);E(this,Je);E(this,Fa,null);E(this,pt);E(this,cs);E(this,_t);E(this,Xe,null);E(this,qe,null);E(this,gt,null);E(this,Ct,null);E(this,jt,null);E(this,us,0);E(this,Bt,0);E(this,Ns,!1);E(this,vs,!1);E(this,$s,new Set);E(this,zs,new Set);E(this,Tt,null);E(this,Xn,yo(()=>(X(this,Tt,Gt(o(this,us))),()=>{X(this,Tt,null)})));X(this,Je,e),X(this,pt,s),X(this,cs,r),this.parent=ae.b,this.is_pending=!!o(this,pt).pending,X(this,_t,na(()=>{ae.b=this;{var n=Ie(this,ke,ka).call(this);try{X(this,Xe,Ze(()=>r(n)))}catch(a){this.error(a)}o(this,Bt)>0?Ie(this,ke,Kn).call(this):this.is_pending=!1}return()=>{var a;(a=o(this,jt))==null||a.remove()}},bo))}defer_effect(e){Fi(e,o(this,$s),o(this,zs))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!o(this,pt).pending}update_pending_count(e){Ie(this,ke,Sa).call(this,e),X(this,us,o(this,us)+e),!(!o(this,Tt)||o(this,Ns))&&(X(this,Ns,!0),It(()=>{X(this,Ns,!1),o(this,Tt)&&gs(o(this,Tt),o(this,us))}))}get_effect_pending(){return o(this,Xn).call(this),i(o(this,Tt))}error(e){var s=o(this,pt).onerror;let r=o(this,pt).failed;if(o(this,vs)||!s&&!r)throw e;o(this,Xe)&&(Ue(o(this,Xe)),X(this,Xe,null)),o(this,qe)&&(Ue(o(this,qe)),X(this,qe,null)),o(this,gt)&&(Ue(o(this,gt)),X(this,gt,null));var n=!1,a=!1;const l=()=>{if(n){uo();return}n=!0,a&&oo(),Vt.ensure(),X(this,us,0),o(this,gt)!==null&&fs(o(this,gt),()=>{X(this,gt,null)}),this.is_pending=this.has_pending_snippet(),X(this,Xe,Ie(this,ke,Vn).call(this,()=>(X(this,vs,!1),Ze(()=>o(this,cs).call(this,o(this,Je)))))),o(this,Bt)>0?Ie(this,ke,Kn).call(this):this.is_pending=!1};It(()=>{try{a=!0,s==null||s(e,l),a=!1}catch(d){Ls(d,o(this,_t)&&o(this,_t).parent)}r&&X(this,gt,Ie(this,ke,Vn).call(this,()=>{Vt.ensure(),X(this,vs,!0);try{return Ze(()=>{r(o(this,Je),()=>e,()=>l)})}catch(d){return Ls(d,o(this,_t).parent),null}finally{X(this,vs,!1)}}))})}}Je=new WeakMap,Fa=new WeakMap,pt=new WeakMap,cs=new WeakMap,_t=new WeakMap,Xe=new WeakMap,qe=new WeakMap,gt=new WeakMap,Ct=new WeakMap,jt=new WeakMap,us=new WeakMap,Bt=new WeakMap,Ns=new WeakMap,vs=new WeakMap,$s=new WeakMap,zs=new WeakMap,Tt=new WeakMap,Xn=new WeakMap,ke=new WeakSet,ko=function(){try{X(this,Xe,Ze(()=>o(this,cs).call(this,o(this,Je))))}catch(e){this.error(e)}},So=function(){const e=o(this,pt).pending;e&&(X(this,qe,Ze(()=>e(o(this,Je)))),It(()=>{var s=Ie(this,ke,ka).call(this);X(this,Xe,Ie(this,ke,Vn).call(this,()=>(Vt.ensure(),Ze(()=>o(this,cs).call(this,s))))),o(this,Bt)>0?Ie(this,ke,Kn).call(this):(fs(o(this,qe),()=>{X(this,qe,null)}),this.is_pending=!1)}))},ka=function(){var e=o(this,Je);return this.is_pending&&(X(this,jt,Dt()),o(this,Je).before(o(this,jt)),e=o(this,jt)),e},Vn=function(e){var s=ae,r=Z,n=me;wt(o(this,_t)),rt(o(this,_t)),qs(o(this,_t).ctx);try{return e()}catch(a){return Ii(a),null}finally{wt(s),rt(r),qs(n)}},Kn=function(){const e=o(this,pt).pending;o(this,Xe)!==null&&(X(this,Ct,document.createDocumentFragment()),o(this,Ct).append(o(this,jt)),tl(o(this,Xe),o(this,Ct))),o(this,qe)===null&&X(this,qe,Ze(()=>e(o(this,Je))))},Sa=function(e){var s;if(!this.has_pending_snippet()){this.parent&&Ie(s=this.parent,ke,Sa).call(s,e);return}if(X(this,Bt,o(this,Bt)+e),o(this,Bt)===0){this.is_pending=!1;for(const r of o(this,$s))ge(r,Re),ct(r);for(const r of o(this,zs))ge(r,vt),ct(r);o(this,$s).clear(),o(this,zs).clear(),o(this,qe)&&fs(o(this,qe),()=>{X(this,qe,null)}),o(this,Ct)&&(o(this,Je).before(o(this,Ct)),X(this,Ct,null))}};function Po(t,e,s,r){const n=Rn()?An:qa;var a=t.filter(p=>!p.settled);if(s.length===0&&a.length===0){r(e.map(n));return}var l=J,d=ae,c=Eo(),u=a.length===1?a[0].promise:a.length>1?Promise.all(a.map(p=>p.promise)):null;function h(p){c();try{r(p)}catch(w){(d.f&At)===0&&Ls(w,d)}l==null||l.deactivate(),Pa()}if(s.length===0){u.then(()=>h(e.map(n)));return}function _(){c(),Promise.all(s.map(p=>Co(p))).then(p=>h([...e.map(n),...p])).catch(p=>Ls(p,d))}u?u.then(_):_()}function Eo(){var t=ae,e=Z,s=me,r=J;return function(a=!0){wt(t),rt(e),qs(s),a&&(r==null||r.activate())}}function Pa(){wt(null),rt(null),qs(null)}function An(t){var e=Te|Re,s=Z!==null&&(Z.f&Te)!==0?Z:null;return ae!==null&&(ae.f|=js),{ctx:me,deps:null,effects:null,equals:Ri,f:e,fn:t,reactions:null,rv:0,v:Pe,wv:0,parent:s??ae,ac:null}}function Co(t,e,s){let r=ae;r===null&&Xl();var n=r.b,a=void 0,l=Gt(Pe),d=!Z,c=new Map;return Ho(()=>{var w;var u=Si();a=u.promise;try{Promise.resolve(t()).then(u.resolve,u.reject).then(()=>{h===J&&h.committed&&h.deactivate(),Pa()})}catch(b){u.reject(b),Pa()}var h=J;if(d){var _=n.is_rendered();n.update_pending_count(1),h.increment(_),(w=c.get(h))==null||w.reject(rs),c.delete(h),c.set(h,u)}const p=(b,x=void 0)=>{if(h.activate(),x)x!==rs&&(l.f|=Wt,gs(l,x));else{(l.f&Wt)!==0&&(l.f^=Wt),gs(l,b);for(const[g,S]of c){if(c.delete(g),g===h)break;S.reject(rs)}}d&&(n.update_pending_count(-1),h.decrement(_))};u.promise.then(p,b=>p(null,b||"unknown"))}),ja(()=>{for(const u of c.values())u.reject(rs)}),new Promise(u=>{function h(_){function p(){_===a?u(l):h(a)}_.then(p,p)}h(a)})}function de(t){const e=An(t);return rl(e),e}function qa(t){const e=An(t);return e.equals=Ai,e}function To(t){var e=t.effects;if(e!==null){t.effects=null;for(var s=0;s<e.length;s+=1)Ue(e[s])}}function Ro(t){for(var e=t.parent;e!==null;){if((e.f&Te)===0)return(e.f&At)===0?e:null;e=e.parent}return null}function La(t){var e,s=ae;wt(Ro(t));try{t.f&=~_s,To(t),e=ll(t)}finally{wt(s)}return e}function Li(t){var e=La(t);if(!t.equals(e)&&(t.wv=al(),(!(J!=null&&J.is_fork)||t.deps===null)&&(t.v=e,t.deps===null))){ge(t,xe);return}Yt||(Ee!==null?(Ua()||J!=null&&J.is_fork)&&Ee.set(t,e):Oa(t))}function Ao(t){var e,s;if(t.effects!==null)for(const r of t.effects)(r.teardown||r.ac)&&((e=r.teardown)==null||e.call(r),(s=r.ac)==null||s.abort(rs),r.teardown=Vl,r.ac=null,sr(r,0),Ba(r))}function Hi(t){if(t.effects!==null)for(const e of t.effects)e.teardown&&Us(e)}let Ea=new Set;const Kt=new Map;let Ui=!1;function Gt(t,e){var s={f:0,v:t,reactions:null,equals:Ri,rv:0,wv:0};return s}function P(t,e){const s=Gt(t);return rl(s),s}function Mo(t,e=!1,s=!0){var n;const r=Gt(t);return e||(r.equals=Ai),Bs&&s&&me!==null&&me.l!==null&&((n=me.l).s??(n.s=[])).push(r),r}function m(t,e,s=!1){Z!==null&&(!ut||(Z.f&Xa)!==0)&&Rn()&&(Z.f&(Te|Nt|za|Xa))!==0&&(st===null||!Os.call(st,t))&&lo();let r=s?_e(e):e;return gs(t,r)}function gs(t,e){if(!t.equals(e)){var s=t.v;Yt?Kt.set(t,e):Kt.set(t,s),t.v=e;var r=Vt.ensure();if(r.capture(t,s),(t.f&Te)!==0){const n=t;(t.f&Re)!==0&&La(n),Oa(n)}t.wv=al(),ji(t,Re),Rn()&&ae!==null&&(ae.f&xe)!==0&&(ae.f&(dt|ms))===0&&(Qe===null?Wo([t]):Qe.push(t)),!r.is_fork&&Ea.size>0&&!Ui&&Io()}return e}function Io(){Ui=!1;for(const t of Ea)(t.f&xe)!==0&&ge(t,vt),In(t)&&Us(t);Ea.clear()}function Xs(t){m(t,t.v+1)}function ji(t,e){var s=t.reactions;if(s!==null)for(var r=Rn(),n=s.length,a=0;a<n;a++){var l=s[a],d=l.f;if(!(!r&&l===ae)){var c=(d&Re)===0;if(c&&ge(l,e),(d&Te)!==0){var u=l;Ee==null||Ee.delete(u),(d&_s)===0&&(d&tt&&(l.f|=_s),ji(u,vt))}else c&&((d&Nt)!==0&&lt!==null&&lt.add(l),ct(l))}}}function _e(t){if(typeof t!="object"||t===null||Mt in t)return t;const e=$a(t);if(e!==Bl&&e!==Wl)return t;var s=new Map,r=Na(t),n=P(0),a=hs,l=d=>{if(hs===a)return d();var c=Z,u=hs;rt(null),ri(a);var h=d();return rt(c),ri(u),h};return r&&s.set("length",P(t.length)),new Proxy(t,{defineProperty(d,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ao();var h=s.get(c);return h===void 0?l(()=>{var _=P(u.value);return s.set(c,_),_}):m(h,u.value,!0),!0},deleteProperty(d,c){var u=s.get(c);if(u===void 0){if(c in d){const h=l(()=>P(Pe));s.set(c,h),Xs(n)}}else m(u,Pe),Xs(n);return!0},get(d,c,u){var w;if(c===Mt)return t;var h=s.get(c),_=c in d;if(h===void 0&&(!_||(w=Rs(d,c))!=null&&w.writable)&&(h=l(()=>{var b=_e(_?d[c]:Pe),x=P(b);return x}),s.set(c,h)),h!==void 0){var p=i(h);return p===Pe?void 0:p}return Reflect.get(d,c,u)},getOwnPropertyDescriptor(d,c){var u=Reflect.getOwnPropertyDescriptor(d,c);if(u&&"value"in u){var h=s.get(c);h&&(u.value=i(h))}else if(u===void 0){var _=s.get(c),p=_==null?void 0:_.v;if(_!==void 0&&p!==Pe)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return u},has(d,c){var p;if(c===Mt)return!0;var u=s.get(c),h=u!==void 0&&u.v!==Pe||Reflect.has(d,c);if(u!==void 0||ae!==null&&(!h||(p=Rs(d,c))!=null&&p.writable)){u===void 0&&(u=l(()=>{var w=h?_e(d[c]):Pe,b=P(w);return b}),s.set(c,u));var _=i(u);if(_===Pe)return!1}return h},set(d,c,u,h){var O;var _=s.get(c),p=c in d;if(r&&c==="length")for(var w=u;w<_.v;w+=1){var b=s.get(w+"");b!==void 0?m(b,Pe):w in d&&(b=l(()=>P(Pe)),s.set(w+"",b))}if(_===void 0)(!p||(O=Rs(d,c))!=null&&O.writable)&&(_=l(()=>P(void 0)),m(_,_e(u)),s.set(c,_));else{p=_.v!==Pe;var x=l(()=>_e(u));m(_,x)}var g=Reflect.getOwnPropertyDescriptor(d,c);if(g!=null&&g.set&&g.set.call(h,u),!p){if(r&&typeof c=="string"){var S=s.get("length"),M=Number(c);Number.isInteger(M)&&M>=S.v&&m(S,M+1)}Xs(n)}return!0},ownKeys(d){i(n);var c=Reflect.ownKeys(d).filter(_=>{var p=s.get(_);return p===void 0||p.v!==Pe});for(var[u,h]of s)h.v!==Pe&&!(u in d)&&c.push(u);return c},setPrototypeOf(){io()}})}function ei(t){try{if(t!==null&&typeof t=="object"&&Mt in t)return t[Mt]}catch{}return t}function Do(t,e){return Object.is(ei(t),ei(e))}var Ca,Bi,Wi,Vi;function Fo(){if(Ca===void 0){Ca=window,Bi=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,s=Text.prototype;Wi=Rs(e,"firstChild").get,Vi=Rs(e,"nextSibling").get,Ja(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Ja(s)&&(s.__t=void 0)}}function Dt(t=""){return document.createTextNode(t)}function Hs(t){return Wi.call(t)}function Mn(t){return Vi.call(t)}function v(t,e){return Hs(t)}function $e(t,e=!1){{var s=Hs(t);return s instanceof Comment&&s.data===""?Mn(s):s}}function f(t,e=1,s=!1){let r=t;for(;e--;)r=Mn(r);return r}function No(t){t.textContent=""}function Ki(){return!1}function $o(t,e,s){return document.createElementNS(xi,t,void 0)}let ti=!1;function zo(){ti||(ti=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const s of t.target.elements)(e=s.__on_r)==null||e.call(s)})},{capture:!0}))}function sa(t){var e=Z,s=ae;rt(null),wt(null);try{return t()}finally{rt(e),wt(s)}}function Ha(t,e,s,r=s){t.addEventListener(e,()=>sa(s));const n=t.__on_r;n?t.__on_r=()=>{n(),r(!0)}:t.__on_r=()=>r(!0),zo()}function Gi(t){ae===null&&(Z===null&&so(),to()),Yt&&eo()}function Oo(t,e){var s=e.last;s===null?e.last=e.first=t:(s.next=t,t.prev=s,e.last=t)}function kt(t,e,s){var r=ae;r!==null&&(r.f&Ge)!==0&&(t|=Ge);var n={ctx:me,deps:null,nodes:null,f:t|Re|tt,first:null,fn:e,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(s)try{Us(n)}catch(d){throw Ue(n),d}else e!==null&&ct(n);var a=n;if(s&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&js)===0&&(a=a.first,(t&Nt)!==0&&(t&ps)!==0&&a!==null&&(a.f|=ps)),a!==null&&(a.parent=r,r!==null&&Oo(a,r),Z!==null&&(Z.f&Te)!==0&&(t&ms)===0)){var l=Z;(l.effects??(l.effects=[])).push(a)}return n}function Ua(){return Z!==null&&!ut}function ja(t){const e=kt(Cn,null,!1);return ge(e,xe),e.teardown=t,e}function Ft(t){Gi();var e=ae.f,s=!Z&&(e&dt)!==0&&(e&Tn)===0;if(s){var r=me;(r.e??(r.e=[])).push(t)}else return Yi(t)}function Yi(t){return kt(tr|Ti,t,!1)}function qo(t){return Gi(),kt(Cn|Ti,t,!0)}function Lo(t){Vt.ensure();const e=kt(ms|js,t,!0);return(s={})=>new Promise(r=>{s.outro?fs(e,()=>{Ue(e),r(void 0)}):(Ue(e),r(void 0))})}function Qi(t){return kt(tr,t,!1)}function Ho(t){return kt(za|js,t,!0)}function ra(t,e=0){return kt(Cn|e,t,!0)}function I(t,e=[],s=[],r=[]){Po(r,e,s,n=>{kt(Cn,()=>t(...n.map(i)),!0)})}function na(t,e=0){var s=kt(Nt|e,t,!0);return s}function Ze(t){return kt(dt|js,t,!0)}function Ji(t){var e=t.teardown;if(e!==null){const s=Yt,r=Z;si(!0),rt(null);try{e.call(null)}finally{si(s),rt(r)}}}function Ba(t,e=!1){var s=t.first;for(t.first=t.last=null;s!==null;){const n=s.ac;n!==null&&sa(()=>{n.abort(rs)});var r=s.next;(s.f&ms)!==0?s.parent=null:Ue(s,e),s=r}}function Uo(t){for(var e=t.first;e!==null;){var s=e.next;(e.f&dt)===0&&Ue(e),e=s}}function Ue(t,e=!0){var s=!1;(e||(t.f&Ci)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(jo(t.nodes.start,t.nodes.end),s=!0),Ba(t,e&&!s),sr(t,0),ge(t,At);var r=t.nodes&&t.nodes.t;if(r!==null)for(const a of r)a.stop();Ji(t);var n=t.parent;n!==null&&n.first!==null&&Xi(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function jo(t,e){for(;t!==null;){var s=t===e?null:Mn(t);t.remove(),t=s}}function Xi(t){var e=t.parent,s=t.prev,r=t.next;s!==null&&(s.next=r),r!==null&&(r.prev=s),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=s))}function fs(t,e,s=!0){var r=[];Zi(t,r,!0);var n=()=>{s&&Ue(t),e&&e()},a=r.length;if(a>0){var l=()=>--a||n();for(var d of r)d.out(l)}else n()}function Zi(t,e,s){if((t.f&Ge)===0){t.f^=Ge;var r=t.nodes&&t.nodes.t;if(r!==null)for(const d of r)(d.is_global||s)&&e.push(d);for(var n=t.first;n!==null;){var a=n.next,l=(n.f&ps)!==0||(n.f&dt)!==0&&(t.f&Nt)!==0;Zi(n,e,l?s:!1),n=a}}}function Wa(t){el(t,!0)}function el(t,e){if((t.f&Ge)!==0){t.f^=Ge,(t.f&xe)===0&&(ge(t,Re),ct(t));for(var s=t.first;s!==null;){var r=s.next,n=(s.f&ps)!==0||(s.f&dt)!==0;el(s,n?e:!1),s=r}var a=t.nodes&&t.nodes.t;if(a!==null)for(const l of a)(l.is_global||e)&&l.in()}}function tl(t,e){if(t.nodes)for(var s=t.nodes.start,r=t.nodes.end;s!==null;){var n=s===r?null:Mn(s);e.append(s),s=n}}let Ut=null;function Bo(t){var e=Ut;try{if(Ut=new Set,Qt(t),e!==null)for(var s of Ut)e.add(s);return Ut}finally{Ut=e}}function sl(t){for(var e of Bo(t))gs(e,e.v)}let Gn=!1,Yt=!1;function si(t){Yt=t}let Z=null,ut=!1;function rt(t){Z=t}let ae=null;function wt(t){ae=t}let st=null;function rl(t){Z!==null&&(st===null?st=[t]:st.push(t))}let He=null,We=0,Qe=null;function Wo(t){Qe=t}let nl=1,as=0,hs=as;function ri(t){hs=t}function al(){return++nl}function In(t){var e=t.f;if((e&Re)!==0)return!0;if(e&Te&&(t.f&=~_s),(e&vt)!==0){for(var s=t.deps,r=s.length,n=0;n<r;n++){var a=s[n];if(In(a)&&Li(a),a.wv>t.wv)return!0}(e&tt)!==0&&Ee===null&&ge(t,xe)}return!1}function il(t,e,s=!0){var r=t.reactions;if(r!==null&&!(st!==null&&Os.call(st,t)))for(var n=0;n<r.length;n++){var a=r[n];(a.f&Te)!==0?il(a,e,!1):e===a&&(s?ge(a,Re):(a.f&xe)!==0&&ge(a,vt),ct(a))}}function ll(t){var x;var e=He,s=We,r=Qe,n=Z,a=st,l=me,d=ut,c=hs,u=t.f;He=null,We=0,Qe=null,Z=(u&(dt|ms))===0?t:null,st=null,qs(t.ctx),ut=!1,hs=++as,t.ac!==null&&(sa(()=>{t.ac.abort(rs)}),t.ac=null);try{t.f|=ya;var h=t.fn,_=h();t.f|=Tn;var p=t.deps,w=J==null?void 0:J.is_fork;if(He!==null){var b;if(w||sr(t,We),p!==null&&We>0)for(p.length=We+He.length,b=0;b<He.length;b++)p[We+b]=He[b];else t.deps=p=He;if(Ua()&&(t.f&tt)!==0)for(b=We;b<p.length;b++)((x=p[b]).reactions??(x.reactions=[])).push(t)}else!w&&p!==null&&We<p.length&&(sr(t,We),p.length=We);if(Rn()&&Qe!==null&&!ut&&p!==null&&(t.f&(Te|vt|Re))===0)for(b=0;b<Qe.length;b++)il(Qe[b],t);if(n!==null&&n!==t){if(as++,n.deps!==null)for(let g=0;g<s;g+=1)n.deps[g].rv=as;if(e!==null)for(const g of e)g.rv=as;Qe!==null&&(r===null?r=Qe:r.push(...Qe))}return(t.f&Wt)!==0&&(t.f^=Wt),_}catch(g){return Ii(g)}finally{t.f^=ya,He=e,We=s,Qe=r,Z=n,st=a,qs(l),ut=d,hs=c}}function Vo(t,e){let s=e.reactions;if(s!==null){var r=Ul.call(s,t);if(r!==-1){var n=s.length-1;n===0?s=e.reactions=null:(s[r]=s[n],s.pop())}}if(s===null&&(e.f&Te)!==0&&(He===null||!Os.call(He,e))){var a=e;(a.f&tt)!==0&&(a.f^=tt,a.f&=~_s),Oa(a),Ao(a),sr(a,0)}}function sr(t,e){var s=t.deps;if(s!==null)for(var r=e;r<s.length;r++)Vo(t,s[r])}function Us(t){var e=t.f;if((e&At)===0){ge(t,xe);var s=ae,r=Gn;ae=t,Gn=!0;try{(e&(Nt|Pi))!==0?Uo(t):Ba(t),Ji(t);var n=ll(t);t.teardown=typeof n=="function"?n:null,t.wv=nl;var a;ga&&fo&&(t.f&Re)!==0&&t.deps}finally{Gn=r,ae=s}}}async function Ko(){await Promise.resolve(),go()}function i(t){var e=t.f,s=(e&Te)!==0;if(Ut==null||Ut.add(t),Z!==null&&!ut){var r=ae!==null&&(ae.f&At)!==0;if(!r&&(st===null||!Os.call(st,t))){var n=Z.deps;if((Z.f&ya)!==0)t.rv<as&&(t.rv=as,He===null&&n!==null&&n[We]===t?We++:He===null?He=[t]:He.push(t));else{(Z.deps??(Z.deps=[])).push(t);var a=t.reactions;a===null?t.reactions=[Z]:Os.call(a,Z)||a.push(Z)}}}if(Yt&&Kt.has(t))return Kt.get(t);if(s){var l=t;if(Yt){var d=l.v;return((l.f&xe)===0&&l.reactions!==null||cl(l))&&(d=La(l)),Kt.set(l,d),d}var c=(l.f&tt)===0&&!ut&&Z!==null&&(Gn||(Z.f&tt)!==0),u=(l.f&Tn)===0;In(l)&&(c&&(l.f|=tt),Li(l)),c&&!u&&(Hi(l),ol(l))}if(Ee!=null&&Ee.has(t))return Ee.get(t);if((t.f&Wt)!==0)throw t.v;return t.v}function ol(t){if(t.f|=tt,t.deps!==null)for(const e of t.deps)(e.reactions??(e.reactions=[])).push(t),(e.f&Te)!==0&&(e.f&tt)===0&&(Hi(e),ol(e))}function cl(t){if(t.v===Pe)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Kt.has(e)||(e.f&Te)!==0&&cl(e))return!0;return!1}function Qt(t){var e=ut;try{return ut=!0,t()}finally{ut=e}}function Go(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Mt in t)Ta(t);else if(!Array.isArray(t))for(let e in t){const s=t[e];typeof s=="object"&&s&&Mt in s&&Ta(s)}}}function Ta(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{Ta(t[r],e)}catch{}const s=$a(t);if(s!==Object.prototype&&s!==Array.prototype&&s!==Map.prototype&&s!==Set.prototype&&s!==Date.prototype){const r=ki(s);for(let n in r){const a=r[n].get;if(a)try{a.call(t)}catch{}}}}}const Yo=["touchstart","touchmove"];function Qo(t){return Yo.includes(t)}const Yn=Symbol("events"),ul=new Set,Ra=new Set;function Jo(t,e,s,r={}){function n(a){if(r.capture||Aa.call(e,a),!a.cancelBubble)return sa(()=>s==null?void 0:s.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?It(()=>{e.addEventListener(t,n,r)}):e.addEventListener(t,n,r),n}function Xo(t,e,s,r,n){var a={capture:r,passive:n},l=Jo(t,e,s,a);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&ja(()=>{e.removeEventListener(t,l,a)})}function Y(t,e,s){(e[Yn]??(e[Yn]={}))[t]=s}function ye(t){for(var e=0;e<t.length;e++)ul.add(t[e]);for(var s of Ra)s(t)}let ni=null;function Aa(t){var g,S;var e=this,s=e.ownerDocument,r=t.type,n=((g=t.composedPath)==null?void 0:g.call(t))||[],a=n[0]||t.target;ni=t;var l=0,d=ni===t&&t.__root;if(d){var c=n.indexOf(d);if(c!==-1&&(e===document||e===window)){t.__root=e;return}var u=n.indexOf(e);if(u===-1)return;c<=u&&(l=c)}if(a=n[l]||t.target,a!==e){jl(t,"currentTarget",{configurable:!0,get(){return a||s}});var h=Z,_=ae;rt(null),wt(null);try{for(var p,w=[];a!==null;){var b=a.assignedSlot||a.parentNode||a.host||null;try{var x=(S=a[Yn])==null?void 0:S[r];x!=null&&(!a.disabled||t.target===a)&&x.call(a,t)}catch(M){p?w.push(M):p=M}if(t.cancelBubble||b===e||b===null)break;a=b}if(p){for(let M of w)queueMicrotask(()=>{throw M});throw p}}finally{t.__root=e,delete t.currentTarget,rt(h),wt(_)}}}var yi,bi;const ua=(bi=(yi=globalThis==null?void 0:globalThis.window)==null?void 0:yi.trustedTypes)==null?void 0:bi.createPolicy("svelte-trusted-html",{createHTML:t=>t});function Zo(t){return(ua==null?void 0:ua.createHTML(t))??t}function vl(t,e=!1){var s=$o("template");return t=t.replaceAll("<!>","<!---->"),s.innerHTML=e?Zo(t):t,s.content}function rr(t,e){var s=ae;s.nodes===null&&(s.nodes={start:t,end:e,a:null,t:null})}function k(t,e){var s=(e&Ll)!==0,r=(e&Hl)!==0,n,a=!t.startsWith("<!>");return()=>{n===void 0&&(n=vl(a?t:"<!>"+t,!0),s||(n=Hs(n)));var l=r||Bi?document.importNode(n,!0):n.cloneNode(!0);if(s){var d=Hs(l),c=l.lastChild;rr(d,c)}else rr(l,l);return l}}function ec(t,e,s="svg"){var r=!t.startsWith("<!>"),n=`<${s}>${r?t:"<!>"+t}</${s}>`,a;return()=>{if(!a){var l=vl(n,!0),d=Hs(l);a=Hs(d)}var c=a.cloneNode(!0);return rr(c,c),c}}function dl(t,e){return ec(t,e,"svg")}function bt(t=""){{var e=Dt(t+"");return rr(e,e),e}}function ys(){var t=document.createDocumentFragment(),e=document.createComment(""),s=Dt();return t.append(e,s),rr(e,s),t}function y(t,e){t!==null&&t.before(e)}function C(t,e){var s=e==null?"":typeof e=="object"?e+"":e;s!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=s,t.nodeValue=s+"")}function tc(t,e){return sc(t,e)}const Un=new Map;function sc(t,{target:e,anchor:s,props:r={},events:n,context:a,intro:l=!0}){Fo();var d=new Set,c=_=>{for(var p=0;p<_.length;p++){var w=_[p];if(!d.has(w)){d.add(w);var b=Qo(w);for(const S of[e,document]){var x=Un.get(S);x===void 0&&(x=new Map,Un.set(S,x));var g=x.get(w);g===void 0?(S.addEventListener(w,Aa,{passive:b}),x.set(w,1)):x.set(w,g+1)}}}};c(ea(ul)),Ra.add(c);var u=void 0,h=Lo(()=>{var _=s??e.appendChild(Dt());return wo(_,{pending:()=>{}},p=>{ee({});var w=me;a&&(w.c=a),n&&(r.$$events=n),u=t(p,r)||{},te()}),()=>{var x;for(var p of d)for(const g of[e,document]){var w=Un.get(g),b=w.get(p);--b==0?(g.removeEventListener(p,Aa),w.delete(p),w.size===0&&Un.delete(g)):w.set(p,b)}Ra.delete(c),_!==s&&((x=_.parentNode)==null||x.removeChild(_))}});return rc.set(u,h),u}let rc=new WeakMap;var ot,mt,Ve,ds,lr,or,Zn;class fl{constructor(e,s=!0){it(this,"anchor");E(this,ot,new Map);E(this,mt,new Map);E(this,Ve,new Map);E(this,ds,new Set);E(this,lr,!0);E(this,or,()=>{var e=J;if(o(this,ot).has(e)){var s=o(this,ot).get(e),r=o(this,mt).get(s);if(r)Wa(r),o(this,ds).delete(s);else{var n=o(this,Ve).get(s);n&&(o(this,mt).set(s,n.effect),o(this,Ve).delete(s),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),r=n.effect)}for(const[a,l]of o(this,ot)){if(o(this,ot).delete(a),a===e)break;const d=o(this,Ve).get(l);d&&(Ue(d.effect),o(this,Ve).delete(l))}for(const[a,l]of o(this,mt)){if(a===s||o(this,ds).has(a))continue;const d=()=>{if(Array.from(o(this,ot).values()).includes(a)){var u=document.createDocumentFragment();tl(l,u),u.append(Dt()),o(this,Ve).set(a,{effect:l,fragment:u})}else Ue(l);o(this,ds).delete(a),o(this,mt).delete(a)};o(this,lr)||!r?(o(this,ds).add(a),fs(l,d,!1)):d()}}});E(this,Zn,e=>{o(this,ot).delete(e);const s=Array.from(o(this,ot).values());for(const[r,n]of o(this,Ve))s.includes(r)||(Ue(n.effect),o(this,Ve).delete(r))});this.anchor=e,X(this,lr,s)}ensure(e,s){var r=J,n=Ki();if(s&&!o(this,mt).has(e)&&!o(this,Ve).has(e))if(n){var a=document.createDocumentFragment(),l=Dt();a.append(l),o(this,Ve).set(e,{effect:Ze(()=>s(l)),fragment:a})}else o(this,mt).set(e,Ze(()=>s(this.anchor)));if(o(this,ot).set(r,e),n){for(const[d,c]of o(this,mt))d===e?r.unskip_effect(c):r.skip_effect(c);for(const[d,c]of o(this,Ve))d===e?r.unskip_effect(c.effect):r.skip_effect(c.effect);r.oncommit(o(this,or)),r.ondiscard(o(this,Zn))}else o(this,or).call(this)}}ot=new WeakMap,mt=new WeakMap,Ve=new WeakMap,ds=new WeakMap,lr=new WeakMap,or=new WeakMap,Zn=new WeakMap;function hl(t,e,...s){var r=new fl(t);na(()=>{const n=e()??null;r.ensure(n,n&&(a=>n(a,...s)))},ps)}function pl(t){me===null&&Jl(),Bs&&me.l!==null?nc(me).m.push(t):Ft(()=>{const e=Qt(t);if(typeof e=="function")return e})}function nc(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}function z(t,e,s=!1){var r=new fl(t),n=s?ps:0;function a(l,d){r.ensure(l,d)}na(()=>{var l=!1;e((d,c=0)=>{l=!0,a(c,d)}),l||a(!1,null)},n)}function pe(t,e){return e}function ac(t,e,s){for(var r=[],n=e.length,a,l=e.length,d=0;d<n;d++){let _=e[d];fs(_,()=>{if(a){if(a.pending.delete(_),a.done.add(_),a.pending.size===0){var p=t.outrogroups;Ma(ea(a.done)),p.delete(a),p.size===0&&(t.outrogroups=null)}}else l-=1},!1)}if(l===0){var c=r.length===0&&s!==null;if(c){var u=s,h=u.parentNode;No(h),h.append(u),t.items.clear()}Ma(e,!c)}else a={pending:new Set(e),done:new Set},(t.outrogroups??(t.outrogroups=new Set)).add(a)}function Ma(t,e=!0){for(var s=0;s<t.length;s++)Ue(t[s],e)}var ai;function fe(t,e,s,r,n,a=null){var l=t,d=new Map,c=(e&wi)!==0;if(c){var u=t;l=u.appendChild(Dt())}var h=null,_=qa(()=>{var S=s();return Na(S)?S:S==null?[]:ea(S)}),p,w=!0;function b(){g.fallback=h,ic(g,p,l,e,r),h!==null&&(p.length===0?(h.f&Rt)===0?Wa(h):(h.f^=Rt,Qs(h,null,l)):fs(h,()=>{h=null}))}var x=na(()=>{p=i(_);for(var S=p.length,M=new Set,O=J,A=Ki(),R=0;R<S;R+=1){var q=p[R],H=r(q,R),T=w?null:d.get(H);T?(T.v&&gs(T.v,q),T.i&&gs(T.i,R),A&&O.unskip_effect(T.e)):(T=lc(d,w?l:ai??(ai=Dt()),q,H,R,n,e,s),w||(T.e.f|=Rt),d.set(H,T)),M.add(H)}if(S===0&&a&&!h&&(w?h=Ze(()=>a(l)):(h=Ze(()=>a(ai??(ai=Dt()))),h.f|=Rt)),S>M.size&&Zl(),!w)if(A){for(const[j,V]of d)M.has(j)||O.skip_effect(V.e);O.oncommit(b),O.ondiscard(()=>{})}else b();i(_)}),g={effect:x,items:d,outrogroups:null,fallback:h};w=!1}function Ys(t){for(;t!==null&&(t.f&dt)===0;)t=t.next;return t}function ic(t,e,s,r,n){var V,$,D,B,K,re,oe,ne,U;var a=(r&Dl)!==0,l=e.length,d=t.items,c=Ys(t.effect.first),u,h=null,_,p=[],w=[],b,x,g,S;if(a)for(S=0;S<l;S+=1)b=e[S],x=n(b,S),g=d.get(x).e,(g.f&Rt)===0&&(($=(V=g.nodes)==null?void 0:V.a)==null||$.measure(),(_??(_=new Set)).add(g));for(S=0;S<l;S+=1){if(b=e[S],x=n(b,S),g=d.get(x).e,t.outrogroups!==null)for(const W of t.outrogroups)W.pending.delete(g),W.done.delete(g);if((g.f&Rt)!==0)if(g.f^=Rt,g===c)Qs(g,null,s);else{var M=h?h.next:c;g===t.effect.last&&(t.effect.last=g.prev),g.prev&&(g.prev.next=g.next),g.next&&(g.next.prev=g.prev),Ht(t,h,g),Ht(t,g,M),Qs(g,M,s),h=g,p=[],w=[],c=Ys(h.next);continue}if((g.f&Ge)!==0&&(Wa(g),a&&((B=(D=g.nodes)==null?void 0:D.a)==null||B.unfix(),(_??(_=new Set)).delete(g))),g!==c){if(u!==void 0&&u.has(g)){if(p.length<w.length){var O=w[0],A;h=O.prev;var R=p[0],q=p[p.length-1];for(A=0;A<p.length;A+=1)Qs(p[A],O,s);for(A=0;A<w.length;A+=1)u.delete(w[A]);Ht(t,R.prev,q.next),Ht(t,h,R),Ht(t,q,O),c=O,h=q,S-=1,p=[],w=[]}else u.delete(g),Qs(g,c,s),Ht(t,g.prev,g.next),Ht(t,g,h===null?t.effect.first:h.next),Ht(t,h,g),h=g;continue}for(p=[],w=[];c!==null&&c!==g;)(u??(u=new Set)).add(c),w.push(c),c=Ys(c.next);if(c===null)continue}(g.f&Rt)===0&&p.push(g),h=g,c=Ys(g.next)}if(t.outrogroups!==null){for(const W of t.outrogroups)W.pending.size===0&&(Ma(ea(W.done)),(K=t.outrogroups)==null||K.delete(W));t.outrogroups.size===0&&(t.outrogroups=null)}if(c!==null||u!==void 0){var H=[];if(u!==void 0)for(g of u)(g.f&Ge)===0&&H.push(g);for(;c!==null;)(c.f&Ge)===0&&c!==t.fallback&&H.push(c),c=Ys(c.next);var T=H.length;if(T>0){var j=(r&wi)!==0&&l===0?s:null;if(a){for(S=0;S<T;S+=1)(oe=(re=H[S].nodes)==null?void 0:re.a)==null||oe.measure();for(S=0;S<T;S+=1)(U=(ne=H[S].nodes)==null?void 0:ne.a)==null||U.fix()}ac(t,H,j)}}a&&It(()=>{var W,Q;if(_!==void 0)for(g of _)(Q=(W=g.nodes)==null?void 0:W.a)==null||Q.apply()})}function lc(t,e,s,r,n,a,l,d){var c=(l&Ml)!==0?(l&Fl)===0?Mo(s,!1,!1):Gt(s):null,u=(l&Il)!==0?Gt(n):null;return{v:c,i:u,e:Ze(()=>(a(e,c??s,u??n,d),()=>{t.delete(r)}))}}function Qs(t,e,s){if(t.nodes)for(var r=t.nodes.start,n=t.nodes.end,a=e&&(e.f&Rt)===0?e.nodes.start:s;r!==null;){var l=Mn(r);if(a.before(r),r===n)return;r=l}}function Ht(t,e,s){e===null?t.effect.first=s:e.next=s,s===null?t.effect.last=e:s.prev=e}function _l(t){var e,s,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(s=_l(t[e]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}function oc(){for(var t,e,s=0,r="",n=arguments.length;s<n;s++)(t=arguments[s])&&(e=_l(t))&&(r&&(r+=" "),r+=e);return r}function cc(t){return typeof t=="object"?oc(t):t??""}const ii=[...` 	
\r\fÂ \v\uFEFF`];function uc(t,e,s){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),s){for(var n in s)if(s[n])r=r?r+" "+n:n;else if(r.length)for(var a=n.length,l=0;(l=r.indexOf(n,l))>=0;){var d=l+a;(l===0||ii.includes(r[l-1]))&&(d===r.length||ii.includes(r[d]))?r=(l===0?"":r.substring(0,l))+r.substring(d+1):l=d}}return r===""?null:r}function vc(t,e){return t==null?null:String(t)}function Ce(t,e,s,r,n,a){var l=t.__className;if(l!==s||l===void 0){var d=uc(s,r,a);d==null?t.removeAttribute("class"):t.className=d,t.__className=s}else if(a&&n!==a)for(var c in a){var u=!!a[c];(n==null||u!==!!n[c])&&t.classList.toggle(c,u)}return a}function Ia(t,e,s,r){var n=t.__style;if(n!==e){var a=vc(e);a==null?t.removeAttribute("style"):t.style.cssText=a,t.__style=e}return r}function gl(t,e,s=!1){if(t.multiple){if(e==null)return;if(!Na(e))return co();for(var r of t.options)r.selected=e.includes(Zs(r));return}for(r of t.options){var n=Zs(r);if(Do(n,e)){r.selected=!0;return}}(!s||e!==void 0)&&(t.selectedIndex=-1)}function dc(t){var e=new MutationObserver(()=>{gl(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ja(()=>{e.disconnect()})}function bs(t,e,s=e){var r=new WeakSet,n=!0;Ha(t,"change",a=>{var l=a?"[selected]":":checked",d;if(t.multiple)d=[].map.call(t.querySelectorAll(l),Zs);else{var c=t.querySelector(l)??t.querySelector("option:not([disabled])");d=c&&Zs(c)}s(d),J!==null&&r.add(J)}),Qi(()=>{var a=e();if(t===document.activeElement){var l=Jn??J;if(r.has(l))return}if(gl(t,a,n),n&&a===void 0){var d=t.querySelector(":checked");d!==null&&(a=Zs(d),s(a))}t.__value=a,n=!1}),dc(t)}function Zs(t){return"__value"in t?t.__value:t.value}const fc=Symbol("is custom element"),hc=Symbol("is html"),pc=Ql?"progress":"PROGRESS";function _c(t,e){var s=Va(t);s.value===(s.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!==pc)||(t.value=e??"")}function ml(t,e){var s=Va(t);s.checked!==(s.checked=e??void 0)&&(t.checked=e)}function Ws(t,e,s,r){var n=Va(t);n[e]!==(n[e]=s)&&(e==="loading"&&(t[Yl]=s),s==null?t.removeAttribute(e):typeof s!="string"&&gc(t).includes(e)?t[e]=s:t.setAttribute(e,s))}function Va(t){return t.__attributes??(t.__attributes={[fc]:t.nodeName.includes("-"),[hc]:t.namespaceURI===xi})}var li=new Map;function gc(t){var e=t.getAttribute("is")||t.nodeName,s=li.get(e);if(s)return s;li.set(e,s=[]);for(var r,n=t,a=Element.prototype;a!==n;){r=ki(n);for(var l in r)r[l].set&&s.push(l);n=$a(n)}return s}function ue(t,e,s=e){var r=new WeakSet;Ha(t,"input",async n=>{var a=n?t.defaultValue:t.value;if(a=va(t)?da(a):a,s(a),J!==null&&r.add(J),await Ko(),a!==(a=e())){var l=t.selectionStart,d=t.selectionEnd,c=t.value.length;if(t.value=a??"",d!==null){var u=t.value.length;l===d&&d===c&&u>c?(t.selectionStart=u,t.selectionEnd=u):(t.selectionStart=l,t.selectionEnd=Math.min(d,u))}}}),Qt(e)==null&&t.value&&(s(va(t)?da(t.value):t.value),J!==null&&r.add(J)),ra(()=>{var n=e();if(t===document.activeElement){var a=Jn??J;if(r.has(a))return}va(t)&&n===da(t.value)||t.type==="date"&&!n&&!t.value||n!==t.value&&(t.value=n??"")})}function mc(t,e,s=e){Ha(t,"change",r=>{var n=r?t.defaultChecked:t.checked;s(n)}),Qt(e)==null&&s(t.checked),ra(()=>{var r=e();t.checked=!!r})}function va(t){var e=t.type;return e==="number"||e==="range"}function da(t){return t===""?null:+t}function oi(t,e){return t===e||(t==null?void 0:t[Mt])===e}function yc(t={},e,s,r){return Qi(()=>{var n,a;return ra(()=>{n=a,a=[],Qt(()=>{t!==s(...a)&&(e(t,...a),n&&oi(s(...n),t)&&e(null,...n))})}),()=>{It(()=>{a&&oi(s(...a),t)&&e(null,...a)})}}),t}function $t(t=!1){const e=me,s=e.l.u;if(!s)return;let r=()=>Go(e.s);if(t){let n=0,a={};const l=An(()=>{let d=!1;const c=e.s;for(const u in c)c[u]!==a[u]&&(a[u]=c[u],d=!0);return d&&n++,n});r=()=>i(l)}s.b.length&&qo(()=>{ci(e,r),ma(s.b)}),Ft(()=>{const n=Qt(()=>s.m.map(Kl));return()=>{for(const a of n)typeof a=="function"&&a()}}),s.a.length&&Ft(()=>{ci(e,r),ma(s.a)})}function ci(t,e){if(t.l.s)for(const s of t.l.s)i(s);e()}function ws(t){var e=Gt(0);return function(){return arguments.length===1?(m(e,i(e)+1),arguments[0]):(i(e),t())}}let jn=!1;function bc(t){var e=jn;try{return jn=!1,[t(),jn]}finally{jn=e}}function As(t,e,s,r){var O;var n=!Bs||(s&$l)!==0,a=(s&Ol)!==0,l=(s&ql)!==0,d=r,c=!0,u=()=>(c&&(c=!1,d=l?Qt(r):r),d),h;if(a){var _=Mt in t||Gl in t;h=((O=Rs(t,e))==null?void 0:O.set)??(_&&e in t?A=>t[e]=A:void 0)}var p,w=!1;a?[p,w]=bc(()=>t[e]):p=t[e],p===void 0&&r!==void 0&&(p=u(),h&&(n&&no(),h(p)));var b;if(n?b=()=>{var A=t[e];return A===void 0?u():(c=!0,A)}:b=()=>{var A=t[e];return A!==void 0&&(d=void 0),A===void 0?d:A},n&&(s&zl)===0)return b;if(h){var x=t.$$legacy;return(function(A,R){return arguments.length>0?((!n||!R||x||w)&&h(R?b():A),A):b()})}var g=!1,S=((s&Nl)!==0?An:qa)(()=>(g=!1,b()));a&&i(S);var M=ae;return(function(A,R){if(arguments.length>0){const q=R?i(S):n&&a?_e(A):A;return m(S,q),g=!0,d!==void 0&&(d=q),A}return Yt&&g||(M.f&At)!==0?S.v:i(S)})}ho();function Se(t,e,s,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?r:s==="a"?r.call(t):r?r.value:e.get(t)}function Cs(t,e,s,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,s),s}var ts,Ye,Ps,Bn,Qn;const ui="__TAURI_TO_IPC_KEY__";function yl(t,e=!1){return window.__TAURI_INTERNALS__.transformCallback(t,e)}class vi{constructor(e){ts.set(this,void 0),Ye.set(this,0),Ps.set(this,[]),Bn.set(this,void 0),Cs(this,ts,e||(()=>{})),this.id=yl(s=>{const r=s.index;if("end"in s){r==Se(this,Ye,"f")?this.cleanupCallback():Cs(this,Bn,r);return}const n=s.message;if(r==Se(this,Ye,"f")){for(Se(this,ts,"f").call(this,n),Cs(this,Ye,Se(this,Ye,"f")+1);Se(this,Ye,"f")in Se(this,Ps,"f");){const a=Se(this,Ps,"f")[Se(this,Ye,"f")];Se(this,ts,"f").call(this,a),delete Se(this,Ps,"f")[Se(this,Ye,"f")],Cs(this,Ye,Se(this,Ye,"f")+1)}Se(this,Ye,"f")===Se(this,Bn,"f")&&this.cleanupCallback()}else Se(this,Ps,"f")[r]=n})}cleanupCallback(){window.__TAURI_INTERNALS__.unregisterCallback(this.id)}set onmessage(e){Cs(this,ts,e)}get onmessage(){return Se(this,ts,"f")}[(ts=new WeakMap,Ye=new WeakMap,Ps=new WeakMap,Bn=new WeakMap,ui)](){return`__CHANNEL__:${this.id}`}toJSON(){return this[ui]()}}async function se(t,e={},s){return window.__TAURI_INTERNALS__.invoke(t,e,s)}class di{get rid(){return Se(this,Qn,"f")}constructor(e){Qn.set(this,void 0),Cs(this,Qn,e)}async close(){return se("plugin:resources|close",{rid:this.rid})}}Qn=new WeakMap;async function bl(t={}){return typeof t=="object"&&Object.freeze(t),await se("plugin:dialog|open",{options:t})}async function wc(t={}){return typeof t=="object"&&Object.freeze(t),await se("plugin:dialog|save",{options:t})}async function Ka(t){return se("start_scan",{config:t})}async function wl(t){return se("stop_scan",{scanId:t})}async function xc(){return se("get_scan_history")}async function Ga(t,e){return se("export_results",{scanId:t,format:e})}async function kc(){return se("clear_scan_history")}async function Sc(){return se("check_privileges_cmd")}async function Pc(){return se("list_scripts")}async function Ec(){return se("get_scripts_dir")}async function Cc(t){return se("parse_custom_scripts",{paths:t})}async function Tc(t,e,s){return se("export_to_file",{scanId:t,format:e,path:s})}async function Rc(){return se("list_presets")}async function Ac(t,e){return se("save_preset",{name:t,config:e})}async function Mc(t){return se("load_preset",{name:t})}async function Ic(t){return se("delete_preset",{name:t})}async function Dc(t){return se("import_scan_from_file",{path:t})}async function Fc(){return se("get_app_version")}async function Nc(t,e){return se("diff_scans",{oldScanId:t,newScanId:e})}async function $c(t,e){return se("check_vulns",{scanId:t,minCvss:null})}async function zc(t){return se("start_watch",{config:t})}async function Oc(){return se("list_checkpoints")}async function qc(t){return se("resume_scan",{scanId:t})}var cr,ur;class Lc{constructor(){E(this,cr,P(_e([])));E(this,ur,P(_e([])))}get entries(){return i(o(this,cr))}set entries(e){m(o(this,cr),e,!0)}get checkpoints(){return i(o(this,ur))}set checkpoints(e){m(o(this,ur),e,!0)}set(e){this.entries=e}addEntry(e){this.entries=[e,...this.entries]}async clear(){try{return await kc(),this.entries=[],!0}catch(e){return console.error("Failed to clear scan history:",e),!1}}get latest(){return this.entries.length>0?this.entries[0]:null}getById(e){return this.entries.find(s=>s.scan_id===e)}hasCheckpoint(e){return this.checkpoints.some(s=>s.scan_id===e)}getCheckpoint(e){return this.checkpoints.find(s=>s.scan_id===e)}async loadCheckpoints(){try{this.checkpoints=await Oc()}catch(e){console.error("Failed to load checkpoints:",e)}}removeCheckpoint(e){this.checkpoints=this.checkpoints.filter(s=>s.scan_id!==e)}}cr=new WeakMap,ur=new WeakMap;const De=new Lc;var vr,dr,fr,hr,pr,_r,gr,mr,yr,br;class Hc{constructor(){E(this,vr,P("idle"));E(this,dr,P(null));E(this,fr,P(_e([])));E(this,hr,P(0));E(this,pr,P(0));E(this,_r,P(null));E(this,gr,P(null));E(this,mr,P(null));E(this,yr,P(null));E(this,br,P(_e([])))}get phase(){return i(o(this,vr))}set phase(e){m(o(this,vr),e,!0)}get scanId(){return i(o(this,dr))}set scanId(e){m(o(this,dr),e,!0)}get hostResults(){return i(o(this,fr))}set hostResults(e){m(o(this,fr),e,!0)}get hostsCompleted(){return i(o(this,hr))}set hostsCompleted(e){m(o(this,hr),e,!0)}get hostsTotal(){return i(o(this,pr))}set hostsTotal(e){m(o(this,pr),e,!0)}get finalResult(){return i(o(this,_r))}set finalResult(e){m(o(this,_r),e,!0)}get error(){return i(o(this,gr))}set error(e){m(o(this,gr),e,!0)}get errorKind(){return i(o(this,mr))}set errorKind(e){m(o(this,mr),e,!0)}get startedAt(){return i(o(this,yr))}set startedAt(e){m(o(this,yr),e,!0)}get logEntries(){return i(o(this,br))}set logEntries(e){m(o(this,br),e,!0)}get isScanning(){return this.phase==="starting"||this.phase==="scanning"}get progressPercent(){return this.hostsTotal===0?0:Math.round(this.hostsCompleted/this.hostsTotal*100)}get openPortCount(){let e=0;for(const s of this.hostResults)for(const r of s.ports)r.state==="open"&&e++;return e}get hostsUp(){return this.hostResults.filter(e=>e.host_status==="Up").length}get latestLog(){return this.logEntries.length===0?null:this.logEntries[this.logEntries.length-1].message}onStarting(){this.phase="starting",this.hostResults=[],this.hostsCompleted=0,this.hostsTotal=0,this.finalResult=null,this.error=null,this.errorKind=null,this.startedAt=Date.now(),this.logEntries=[]}onScanStarted(e,s){this.phase="scanning",this.scanId=e,this.hostsTotal=s}onHostResult(e){this.hostResults.push(e.result),this.hostResults=this.hostResults,this.hostsCompleted=e.hosts_completed,this.hostsTotal=e.hosts_total}onHostResultBatch(e){for(const r of e)this.hostResults.push(r.result);this.hostResults=this.hostResults;const s=e[e.length-1];this.hostsCompleted=s.hosts_completed,this.hostsTotal=s.hosts_total}onScanComplete(e){this.phase="complete",this.finalResult=e,this.hostResults=e.hosts,this.hostsCompleted=e.hosts.length,this.hostsTotal=e.hosts.length}onScanError(e,s="scan"){this.phase!=="starting"&&this.phase!=="scanning"&&(this.phase="error"),this.error=e,this.errorKind=s}onScanLog(e){const s=Date.now(),r=this.startedAt?Math.floor((s-this.startedAt)/1e3):0,n=Math.floor(r/60),a=r%60,l=`${n}:${a.toString().padStart(2,"0")}`;this.logEntries.push({message:e,timestamp:s,relativeTime:l}),this.logEntries=this.logEntries}dismissError(){this.error=null,this.errorKind=null,this.phase==="error"&&(this.phase=this.hostResults.length>0?"complete":"idle")}reset(){this.phase="idle",this.scanId=null,this.hostResults=[],this.hostsCompleted=0,this.hostsTotal=0,this.finalResult=null,this.error=null,this.errorKind=null,this.startedAt=null,this.logEntries=[]}}vr=new WeakMap,dr=new WeakMap,fr=new WeakMap,hr=new WeakMap,pr=new WeakMap,_r=new WeakMap,gr=new WeakMap,mr=new WeakMap,yr=new WeakMap,br=new WeakMap;const N=new Hc;let Uc=0;var wr;class jc{constructor(){E(this,wr,P(_e([])))}get toasts(){return i(o(this,wr))}set toasts(e){m(o(this,wr),e,!0)}add(e,s="info",r=5e3){const n=Uc++;this.toasts.push({id:n,message:e,type:s}),r>0&&setTimeout(()=>this.dismiss(n),r)}dismiss(e){this.toasts=this.toasts.filter(s=>s.id!==e)}success(e){this.add(e,"success")}error(e){this.add(e,"error",8e3)}warn(e){this.add(e,"warning")}info(e){this.add(e,"info")}}wr=new WeakMap;const et=new jc;function Dn(t){if(typeof t=="string"){const e=t.toLowerCase();return e.includes("privilege")||e.includes("permission")||e.includes("access denied")||e.includes("administrator")?{message:t,kind:"privilege"}:e.includes("invalid")||e.includes("target")||e.includes("port")?{message:t,kind:"config"}:{message:t,kind:"scan"}}if(t&&typeof t=="object"){const e=t,s=typeof e.message=="string"?e.message:JSON.stringify(t);return Dn(s)}return{message:String(t),kind:"backend"}}function xl(t){const e=t.secs*1e3+t.nanos/1e6;if(e<1e3)return`${e.toFixed(0)}ms`;const s=e/1e3;if(s<60)return`${s.toFixed(2)}s`;const r=Math.floor(s/60),n=s%60;return`${r}m ${n.toFixed(0)}s`}function Bc(t){return t?`${(t.secs*1e3+t.nanos/1e6).toFixed(2)}ms`:"â"}function Wc(t){return new Date(t).toLocaleTimeString()}function Vc(t){const e=Math.floor((Date.now()-t)/1e3);if(e<60)return`${e}s`;const s=Math.floor(e/60),r=e%60;return`${s}m ${r}s`}var Kc=k('<span class="checkbox svelte-1hvyudf"> </span>'),Gc=k('<span class="resume-badge svelte-1hvyudf" role="button" tabindex="0"> </span>'),Yc=k('<button><div class="item-header svelte-1hvyudf"><!> <span class="item-time text-muted"> </span> <span class="item-duration mono text-muted"> </span></div> <div class="item-body svelte-1hvyudf"><span class="item-hosts svelte-1hvyudf"> </span> <!></div></button>');function Qc(t,e){ee(e,!0);let s=As(e,"selectable",3,!1),r=As(e,"selected",3,!1),n=As(e,"checkpoint",3,null);function a(H){if(H<1e3)return`${H}ms`;const T=H/1e3;if(T<60)return`${T.toFixed(1)}s`;const j=Math.floor(T/60),V=Math.round(T%60);return`${j}m${V}s`}async function l(){var H;s()?(H=e.onselect)==null||H.call(e):await d()}async function d(){try{const H=await Ga(e.entry.scan_id,"json"),T=JSON.parse(H);N.onScanComplete(T),N.scanId=e.entry.scan_id}catch(H){console.error("Failed to load scan result:",H)}}function c(H){var T;H.stopPropagation(),(T=e.onresume)==null||T.call(e)}var u=Yc();let h;var _=v(u),p=v(_);{var w=H=>{var T=Kc(),j=v(T);I(()=>C(j,r()?"â":"â")),y(H,T)};z(p,H=>{s()&&H(w)})}var b=f(p,2),x=v(b),g=f(b,2),S=v(g),M=f(_,2),O=v(M),A=v(O),R=f(O,2);{var q=H=>{var T=Gc(),j=v(T);I(()=>C(j,`Resume (${n().completed_count??""}/${n().total_hosts??""})`)),Y("click",T,c),Y("keydown",T,V=>{(V.key==="Enter"||V.key===" ")&&(V.preventDefault(),c(V))}),y(H,T)};z(R,H=>{n()&&H(q)})}I((H,T)=>{h=Ce(u,1,"history-item svelte-1hvyudf",null,h,{selected:r()}),C(x,H),C(S,T),C(A,`${e.entry.num_hosts??""} hosts, ${e.entry.num_services??""} services`)},[()=>Wc(e.entry.started_at),()=>a(e.entry.total_duration_ms)]),Y("click",u,l),y(t,u),te()}ye(["click","keydown"]);var Jc=k('<p class="no-changes text-muted svelte-88kn3g">No differences found between these scans.</p>'),Xc=k('<span class="host-badge new svelte-88kn3g"> </span>'),Zc=k('<div class="diff-section svelte-88kn3g"><h4 class="section-title new svelte-88kn3g"> </h4> <div class="host-list svelte-88kn3g"></div></div>'),eu=k('<span class="host-badge removed svelte-88kn3g"> </span>'),tu=k('<div class="diff-section svelte-88kn3g"><h4 class="section-title removed svelte-88kn3g"> </h4> <div class="host-list svelte-88kn3g"></div></div>'),su=k('<div class="table-row svelte-88kn3g"><span class="mono"> </span> <span class="mono"> </span> <span> </span> <span class="state old svelte-88kn3g"> </span> <span class="state new svelte-88kn3g"> </span></div>'),ru=k('<div class="diff-section svelte-88kn3g"><h4 class="section-title changed svelte-88kn3g"> </h4> <div class="changes-table svelte-88kn3g"><div class="table-header svelte-88kn3g"><span>Host</span> <span>Port</span> <span>Protocol</span> <span>Old State</span> <span>New State</span></div> <!></div></div>'),nu=k('<div class="diff-content svelte-88kn3g"><!> <!> <!></div>'),au=k('<div class="overlay-backdrop svelte-88kn3g" role="presentation"><div class="overlay svelte-88kn3g" role="dialog" aria-label="Scan Comparison" tabindex="-1"><div class="overlay-header svelte-88kn3g"><h3 class="overlay-title svelte-88kn3g">Scan Comparison</h3> <button class="close-btn svelte-88kn3g" aria-label="Close"></button></div> <!></div></div>');function iu(t,e){ee(e,!0);const s=de(()=>e.diff.new_hosts.length>0||e.diff.removed_hosts.length>0||e.diff.port_changes.length>0);var r=au(),n=v(r),a=v(n),l=f(v(a),2);l.textContent="â";var d=f(a,2);{var c=h=>{var _=Jc();y(h,_)},u=h=>{var _=nu(),p=v(_);{var w=M=>{var O=Zc(),A=v(O),R=v(A),q=f(A,2);fe(q,21,()=>e.diff.new_hosts,pe,(H,T)=>{var j=Xc(),V=v(j);I(()=>C(V,i(T))),y(H,j)}),I(()=>C(R,`New Hosts (${e.diff.new_hosts.length??""})`)),y(M,O)};z(p,M=>{e.diff.new_hosts.length>0&&M(w)})}var b=f(p,2);{var x=M=>{var O=tu(),A=v(O),R=v(A),q=f(A,2);fe(q,21,()=>e.diff.removed_hosts,pe,(H,T)=>{var j=eu(),V=v(j);I(()=>C(V,i(T))),y(H,j)}),I(()=>C(R,`Removed Hosts (${e.diff.removed_hosts.length??""})`)),y(M,O)};z(b,M=>{e.diff.removed_hosts.length>0&&M(x)})}var g=f(b,2);{var S=M=>{var O=ru(),A=v(O),R=v(A),q=f(A,2),H=f(v(q),2);fe(H,17,()=>e.diff.port_changes,pe,(T,j)=>{var V=su(),$=v(V),D=v($),B=f($,2),K=v(B),re=f(B,2),oe=v(re),ne=f(re,2),U=v(ne),W=f(ne,2),Q=v(W);I(()=>{C(D,i(j).ip),C(K,i(j).port),C(oe,i(j).protocol),C(U,i(j).old_state??"â"),C(Q,i(j).new_state??"â")}),y(T,V)}),I(()=>C(R,`Port Changes (${e.diff.port_changes.length??""})`)),y(M,O)};z(g,M=>{e.diff.port_changes.length>0&&M(S)})}y(h,_)};z(d,h=>{i(s)?h(u,!1):h(c)})}Y("click",r,function(...h){var _;(_=e.onclose)==null||_.apply(this,h)}),Y("keydown",r,h=>{h.key==="Escape"&&e.onclose()}),Y("click",n,h=>h.stopPropagation()),Y("click",l,function(...h){var _;(_=e.onclose)==null||_.apply(this,h)}),y(t,r),te()}ye(["click","keydown"]);var lu=k("<button> </button>"),ou=k('<button class="action-btn clear-btn svelte-189qqbk" title="Clear all history"> </button>'),cu=k('<button class="compare-go svelte-189qqbk"> </button>'),uu=k('<p class="compare-hint text-muted svelte-189qqbk">Select 2 scans to compare</p>'),vu=k('<button class="checkpoint-item svelte-189qqbk"><span class="cp-label svelte-189qqbk">Interrupted scan</span> <span class="cp-progress text-muted svelte-189qqbk"> </span> <span class="resume-action svelte-189qqbk">Resume</span></button>'),du=k('<p class="text-muted empty svelte-189qqbk">No scans yet</p>'),fu=k('<div class="history-list svelte-189qqbk"></div>'),hu=k('<div class="history svelte-189qqbk"><div class="history-header svelte-189qqbk"><h3 class="history-title svelte-189qqbk">Scan History</h3> <div class="history-actions svelte-189qqbk"><!> <button class="action-btn import-btn svelte-189qqbk" title="Import scan from file"> </button> <!></div></div> <!> <!> <!></div> <!>',1);function pu(t,e){ee(e,!0);let s=P(!1),r=P(!1),n=P(!1),a=P(_e([])),l=P(null),d=P(!1);function c(){m(n,!i(n)),m(a,[],!0),m(l,null)}function u(U){if(!i(n))return;i(a).indexOf(U)>=0?m(a,i(a).filter(Q=>Q!==U),!0):i(a).length<2&&m(a,[...i(a),U],!0)}async function h(){if(i(a).length===2){m(d,!0);try{const U=De.entries.find(be=>be.scan_id===i(a)[0]),W=De.entries.find(be=>be.scan_id===i(a)[1]);let Q,ve;U&&W&&U.started_at>W.started_at?(Q=i(a)[1],ve=i(a)[0]):(Q=i(a)[0],ve=i(a)[1]),m(l,await Nc(Q,ve),!0)}catch(U){et.error("Diff failed: "+String(U))}finally{m(d,!1)}}}async function _(U){if(!N.isScanning){N.onStarting();try{await qc(U),De.removeCheckpoint(U)}catch(W){const{message:Q,kind:ve}=Dn(W);N.onScanError(Q,ve)}}}async function p(){m(s,!0),await De.clear(),m(s,!1)}async function w(){if(i(r))return;const U=await bl({multiple:!1,filters:[{name:"JSON Scan Results",extensions:["json"]},{name:"All Files",extensions:["*"]}]});if(!U)return;const W=typeof U=="string"?U:U[0];if(W){m(r,!0);try{const Q=await Dc(W);De.addEntry(Q);const ve=await Ga(Q.scan_id,"json"),be=JSON.parse(ve);N.onScanComplete(be),N.scanId=Q.scan_id}catch(Q){console.error("Failed to import scan:",Q)}finally{m(r,!1)}}}var b=hu(),x=$e(b),g=v(x),S=f(v(g),2),M=v(S);{var O=U=>{var W=lu();let Q;var ve=v(W);I(()=>{Q=Ce(W,1,"action-btn compare-btn svelte-189qqbk",null,Q,{active:i(n)}),Ws(W,"title",i(n)?"Cancel compare":"Compare two scans"),C(ve,i(n)?"Cancel":"Diff")}),Y("click",W,c),y(U,W)};z(M,U=>{De.entries.length>=2&&U(O)})}var A=f(M,2),R=v(A),q=f(A,2);{var H=U=>{var W=ou(),Q=v(W);I(()=>{W.disabled=i(s),C(Q,i(s)?"...":"Clear")}),Y("click",W,p),y(U,W)};z(q,U=>{De.entries.length>0&&U(H)})}var T=f(g,2);{var j=U=>{var W=cu(),Q=v(W);I(()=>{W.disabled=i(d),C(Q,i(d)?"Comparing...":"Compare Selected")}),Y("click",W,h),y(U,W)},V=U=>{var W=uu();y(U,W)};z(T,U=>{i(n)&&i(a).length===2?U(j):i(n)&&U(V,1)})}var $=f(T,2);fe($,17,()=>De.checkpoints.filter(U=>!De.entries.some(W=>W.scan_id===U.scan_id)),pe,(U,W)=>{var Q=vu(),ve=f(v(Q),2),be=v(ve);I(()=>{Q.disabled=N.isScanning,C(be,`${i(W).completed_count??""}/${i(W).total_hosts??""} hosts`)}),Y("click",Q,()=>_(i(W).scan_id)),y(U,Q)});var D=f($,2);{var B=U=>{var W=du();y(U,W)},K=U=>{},re=U=>{var W=fu();fe(W,21,()=>De.entries,pe,(Q,ve)=>{{let be=de(()=>i(a).includes(i(ve).scan_id)),we=de(()=>De.getCheckpoint(i(ve).scan_id)??null);Qc(Q,{get entry(){return i(ve)},get selectable(){return i(n)},get selected(){return i(be)},onselect:()=>u(i(ve).scan_id),get checkpoint(){return i(we)},onresume:()=>_(i(ve).scan_id)})}}),y(U,W)};z(D,U=>{De.entries.length===0&&De.checkpoints.length===0?U(B):De.entries.length===0?U(K,1):U(re,!1)})}var oe=f(x,2);{var ne=U=>{iu(U,{get diff(){return i(l)},onclose:()=>{m(l,null)}})};z(oe,U=>{i(l)&&U(ne)})}I(()=>{A.disabled=i(r),C(R,i(r)?"...":"+")}),Y("click",A,w),y(t,b),te()}ye(["click"]);var _u=k('<aside class="sidebar svelte-6dohdz"><div class="sidebar-header svelte-6dohdz"><h1 class="logo svelte-6dohdz">RustMap</h1></div> <!></aside>');function gu(t){var e=_u(),s=f(v(e),2);pu(s,{}),y(t,e)}var xr,kr,Sr,Pr,Er,Cr,Tr,Rr,Ar,Mr,Ir,Dr,Fr,Nr,$r,zr,Or,qr,Lr,Hr,Ur,jr,Br,Wr,Vr,Kr,Gr,Yr,Qr,Jr,Xr,Zr,en,tn,sn,rn,nn,an,ln,on,cn,un,vn,dn,fn,hn,pn,_n;class mu{constructor(){E(this,xr,P(""));E(this,kr,P(""));E(this,Sr,P("T"));E(this,Pr,P(3));E(this,Er,P(!1));E(this,Cr,P(!1));E(this,Tr,P("default"));E(this,Rr,P(_e([])));E(this,Ar,P(""));E(this,Mr,P(""));E(this,Ir,P(""));E(this,Dr,P(""));E(this,Fr,P(""));E(this,Nr,P(0));E(this,$r,P(0));E(this,zr,P(256));E(this,Or,P(0));E(this,qr,P(null));E(this,Lr,P(null));E(this,Hr,P(!1));E(this,Ur,P(null));E(this,jr,P(!1));E(this,Br,P(!1));E(this,Wr,P(7));E(this,Vr,P(0));E(this,Kr,P(!1));E(this,Gr,P(!1));E(this,Yr,P(1));E(this,Qr,P(0));E(this,Jr,P(0));E(this,Xr,P(!0));E(this,Zr,P(""));E(this,en,P(""));E(this,tn,P(""));E(this,sn,P("none"));E(this,rn,P(""));E(this,nn,P(!1));E(this,an,P(_e([])));E(this,ln,P(""));E(this,on,P(_e([])));E(this,cn,P(!1));E(this,un,P(""));E(this,vn,P(null));E(this,dn,P(!1));E(this,fn,P(null));E(this,hn,P(!1));E(this,pn,P(!1));E(this,_n,P(300))}get targets(){return i(o(this,xr))}set targets(e){m(o(this,xr),e,!0)}get ports(){return i(o(this,kr))}set ports(e){m(o(this,kr),e,!0)}get scanType(){return i(o(this,Sr))}set scanType(e){m(o(this,Sr),e,!0)}get timing(){return i(o(this,Pr))}set timing(e){m(o(this,Pr),e,!0)}get serviceDetection(){return i(o(this,Er))}set serviceDetection(e){m(o(this,Er),e,!0)}get osDetection(){return i(o(this,Cr))}set osDetection(e){m(o(this,Cr),e,!0)}get discoveryMode(){return i(o(this,Tr))}set discoveryMode(e){m(o(this,Tr),e,!0)}get discoveryMethods(){return i(o(this,Rr))}set discoveryMethods(e){m(o(this,Rr),e,!0)}get tcpSynPorts(){return i(o(this,Ar))}set tcpSynPorts(e){m(o(this,Ar),e,!0)}get tcpAckPorts(){return i(o(this,Mr))}set tcpAckPorts(e){m(o(this,Mr),e,!0)}get udpPingPorts(){return i(o(this,Ir))}set udpPingPorts(e){m(o(this,Ir),e,!0)}get httpPorts(){return i(o(this,Dr))}set httpPorts(e){m(o(this,Dr),e,!0)}get httpsPorts(){return i(o(this,Fr))}set httpsPorts(e){m(o(this,Fr),e,!0)}get timeoutMs(){return i(o(this,Nr))}set timeoutMs(e){m(o(this,Nr),e,!0)}get concurrency(){return i(o(this,$r))}set concurrency(e){m(o(this,$r),e,!0)}get maxHostgroup(){return i(o(this,zr))}set maxHostgroup(e){m(o(this,zr),e,!0)}get hostTimeoutMs(){return i(o(this,Or))}set hostTimeoutMs(e){m(o(this,Or),e,!0)}get minRate(){return i(o(this,qr))}set minRate(e){m(o(this,qr),e,!0)}get maxRate(){return i(o(this,Lr))}set maxRate(e){m(o(this,Lr),e,!0)}get randomizePorts(){return i(o(this,Hr))}set randomizePorts(e){m(o(this,Hr),e,!0)}get sourcePort(){return i(o(this,Ur))}set sourcePort(e){m(o(this,Ur),e,!0)}get fragmentPackets(){return i(o(this,jr))}set fragmentPackets(e){m(o(this,jr),e,!0)}get traceroute(){return i(o(this,Br))}set traceroute(e){m(o(this,Br),e,!0)}get versionIntensity(){return i(o(this,Wr))}set versionIntensity(e){m(o(this,Wr),e,!0)}get scanDelayMs(){return i(o(this,Vr))}set scanDelayMs(e){m(o(this,Vr),e,!0)}get mtuDiscovery(){return i(o(this,Kr))}set mtuDiscovery(e){m(o(this,Kr),e,!0)}get verbose(){return i(o(this,Gr))}set verbose(e){m(o(this,Gr),e,!0)}get minHostgroup(){return i(o(this,Yr))}set minHostgroup(e){m(o(this,Yr),e,!0)}get maxScanDelayMs(){return i(o(this,Qr))}set maxScanDelayMs(e){m(o(this,Qr),e,!0)}get probeTimeoutMs(){return i(o(this,Jr))}set probeTimeoutMs(e){m(o(this,Jr),e,!0)}get quicProbing(){return i(o(this,Xr))}set quicProbing(e){m(o(this,Xr),e,!0)}get proxyUrl(){return i(o(this,Zr))}set proxyUrl(e){m(o(this,Zr),e,!0)}get decoys(){return i(o(this,en))}set decoys(e){m(o(this,en),e,!0)}get preResolvedUp(){return i(o(this,tn))}set preResolvedUp(e){m(o(this,tn),e,!0)}get payloadType(){return i(o(this,sn))}set payloadType(e){m(o(this,sn),e,!0)}get payloadValue(){return i(o(this,rn))}set payloadValue(e){m(o(this,rn),e,!0)}get scriptEnabled(){return i(o(this,nn))}set scriptEnabled(e){m(o(this,nn),e,!0)}get scripts(){return i(o(this,an))}set scripts(e){m(o(this,an),e,!0)}get scriptArgs(){return i(o(this,ln))}set scriptArgs(e){m(o(this,ln),e,!0)}get customScriptPaths(){return i(o(this,on))}set customScriptPaths(e){m(o(this,on),e,!0)}get geoipEnabled(){return i(o(this,cn))}set geoipEnabled(e){m(o(this,cn),e,!0)}get spoofMac(){return i(o(this,un))}set spoofMac(e){m(o(this,un),e,!0)}get ipTtl(){return i(o(this,vn))}set ipTtl(e){m(o(this,vn),e,!0)}get badsum(){return i(o(this,dn))}set badsum(e){m(o(this,dn),e,!0)}get topPorts(){return i(o(this,fn))}set topPorts(e){m(o(this,fn),e,!0)}get ipv6Only(){return i(o(this,hn))}set ipv6Only(e){m(o(this,hn),e,!0)}get watchEnabled(){return i(o(this,pn))}set watchEnabled(e){m(o(this,pn),e,!0)}get watchIntervalSecs(){return i(o(this,_n))}set watchIntervalSecs(e){m(o(this,_n),e,!0)}get configValid(){return this.targets.trim().length>0}get config(){return{targets:this.targets.split(/[\s,]+/).map(s=>s.trim()).filter(s=>s.length>0),ports:this.ports.trim()||null,scan_type:this.scanType,timing:this.timing,service_detection:this.serviceDetection,os_detection:this.osDetection,discovery_mode:this.discoveryMode,discovery_methods:this.discoveryMethods,tcp_syn_ports:this.tcpSynPorts.trim()||null,tcp_ack_ports:this.tcpAckPorts.trim()||null,udp_ping_ports:this.udpPingPorts.trim()||null,http_ports:this.httpPorts.trim()||null,https_ports:this.httpsPorts.trim()||null,timeout_ms:this.timeoutMs,concurrency:this.concurrency,max_hostgroup:this.maxHostgroup,host_timeout_ms:this.hostTimeoutMs,min_rate:this.minRate,max_rate:this.maxRate,randomize_ports:this.randomizePorts,source_port:this.sourcePort,fragment_packets:this.fragmentPackets,traceroute:this.traceroute,version_intensity:this.versionIntensity,scan_delay_ms:this.scanDelayMs,mtu_discovery:this.mtuDiscovery,verbose:this.verbose,min_hostgroup:this.minHostgroup,max_scan_delay_ms:this.maxScanDelayMs,probe_timeout_ms:this.probeTimeoutMs,quic_probing:this.quicProbing,proxy_url:this.proxyUrl.trim()||null,decoys:this.decoys.trim()||null,pre_resolved_up:this.preResolvedUp.trim()||null,payload_type:this.payloadType,payload_value:this.payloadValue.trim()||null,script_enabled:this.scriptEnabled,scripts:this.scripts,script_args:this.scriptArgs.trim()||null,custom_script_paths:this.customScriptPaths,geoip_enabled:this.geoipEnabled,spoof_mac:this.spoofMac.trim()||null,ip_ttl:this.ipTtl,badsum:this.badsum,top_ports:this.topPorts,ipv6_only:this.ipv6Only,watch_enabled:this.watchEnabled,watch_interval_secs:this.watchIntervalSecs}}reset(){this.targets="",this.ports="",this.scanType="T",this.timing=3,this.serviceDetection=!1,this.osDetection=!1,this.discoveryMode="default",this.discoveryMethods=[],this.tcpSynPorts="",this.tcpAckPorts="",this.udpPingPorts="",this.httpPorts="",this.httpsPorts="",this.timeoutMs=0,this.concurrency=0,this.maxHostgroup=256,this.hostTimeoutMs=0,this.minRate=null,this.maxRate=null,this.randomizePorts=!1,this.sourcePort=null,this.fragmentPackets=!1,this.traceroute=!1,this.versionIntensity=7,this.scanDelayMs=0,this.mtuDiscovery=!1,this.verbose=!1,this.minHostgroup=1,this.maxScanDelayMs=0,this.probeTimeoutMs=0,this.quicProbing=!0,this.proxyUrl="",this.decoys="",this.preResolvedUp="",this.payloadType="none",this.payloadValue="",this.scriptEnabled=!1,this.scripts=[],this.scriptArgs="",this.customScriptPaths=[],this.geoipEnabled=!1,this.spoofMac="",this.ipTtl=null,this.badsum=!1,this.topPorts=null,this.ipv6Only=!1,this.watchEnabled=!1,this.watchIntervalSecs=300}loadFromConfig(e){this.targets=e.targets.join(", "),this.ports=e.ports??"",this.scanType=e.scan_type,this.timing=e.timing,this.serviceDetection=e.service_detection,this.osDetection=e.os_detection,this.discoveryMode=e.discovery_mode,this.discoveryMethods=e.discovery_methods,this.tcpSynPorts=e.tcp_syn_ports??"",this.tcpAckPorts=e.tcp_ack_ports??"",this.udpPingPorts=e.udp_ping_ports??"",this.httpPorts=e.http_ports??"",this.httpsPorts=e.https_ports??"",this.timeoutMs=e.timeout_ms,this.concurrency=e.concurrency,this.maxHostgroup=e.max_hostgroup,this.hostTimeoutMs=e.host_timeout_ms,this.minRate=e.min_rate,this.maxRate=e.max_rate,this.randomizePorts=e.randomize_ports,this.sourcePort=e.source_port,this.fragmentPackets=e.fragment_packets,this.traceroute=e.traceroute,this.versionIntensity=e.version_intensity,this.scanDelayMs=e.scan_delay_ms,this.mtuDiscovery=e.mtu_discovery,this.verbose=e.verbose,this.minHostgroup=e.min_hostgroup,this.maxScanDelayMs=e.max_scan_delay_ms,this.probeTimeoutMs=e.probe_timeout_ms,this.quicProbing=e.quic_probing,this.proxyUrl=e.proxy_url??"",this.decoys=e.decoys??"",this.preResolvedUp=e.pre_resolved_up??"",this.payloadType=e.payload_type,this.payloadValue=e.payload_value??"",this.scriptEnabled=e.script_enabled,this.scripts=e.scripts,this.scriptArgs=e.script_args??"",this.customScriptPaths=e.custom_script_paths,this.geoipEnabled=e.geoip_enabled,this.spoofMac=e.spoof_mac??"",this.ipTtl=e.ip_ttl??null,this.badsum=e.badsum??!1,this.topPorts=e.top_ports??null,this.ipv6Only=e.ipv6_only??!1,this.watchEnabled=e.watch_enabled??!1,this.watchIntervalSecs=e.watch_interval_secs??300}}xr=new WeakMap,kr=new WeakMap,Sr=new WeakMap,Pr=new WeakMap,Er=new WeakMap,Cr=new WeakMap,Tr=new WeakMap,Rr=new WeakMap,Ar=new WeakMap,Mr=new WeakMap,Ir=new WeakMap,Dr=new WeakMap,Fr=new WeakMap,Nr=new WeakMap,$r=new WeakMap,zr=new WeakMap,Or=new WeakMap,qr=new WeakMap,Lr=new WeakMap,Hr=new WeakMap,Ur=new WeakMap,jr=new WeakMap,Br=new WeakMap,Wr=new WeakMap,Vr=new WeakMap,Kr=new WeakMap,Gr=new WeakMap,Yr=new WeakMap,Qr=new WeakMap,Jr=new WeakMap,Xr=new WeakMap,Zr=new WeakMap,en=new WeakMap,tn=new WeakMap,sn=new WeakMap,rn=new WeakMap,nn=new WeakMap,an=new WeakMap,ln=new WeakMap,on=new WeakMap,cn=new WeakMap,un=new WeakMap,vn=new WeakMap,dn=new WeakMap,fn=new WeakMap,hn=new WeakMap,pn=new WeakMap,_n=new WeakMap;const F=new mu;var yu=k("<option> </option>"),bu=k('<button class="preset-btn icon-btn svelte-11f2g6p" title="Delete preset">&times;</button>'),wu=k("<span> </span>"),xu=k('<div class="save-row svelte-11f2g6p"><input class="save-input svelte-11f2g6p" type="text" placeholder="Preset name..."/> <button class="preset-btn confirm-btn svelte-11f2g6p"> </button></div>'),ku=k('<div class="preset-bar svelte-11f2g6p"><div class="preset-select-group svelte-11f2g6p"><select class="preset-select svelte-11f2g6p"><option>Presets</option><!></select> <!></div> <button class="preset-btn svelte-11f2g6p"> </button> <!></div> <!>',1);function Su(t,e){ee(e,!0);let s=P(_e([])),r=P(""),n=P(!1),a=P(""),l=P(!1),d=P(""),c=P("");pl(async()=>{await u()});async function u(){try{m(s,await Rc(),!0)}catch(D){console.error("Failed to load presets:",D)}}async function h(){if(i(r))try{const D=await Mc(i(r));F.loadFromConfig(D),w("Loaded","success")}catch(D){console.error("Failed to load preset:",D),w("Load failed","error")}}async function _(){const D=i(a).trim();if(!(!D||i(l))){m(l,!0);try{await Ac(D,F.config),await u(),m(r,D,!0),m(n,!1),m(a,""),w("Saved","success")}catch(B){console.error("Failed to save preset:",B),w(typeof B=="string"?B:"Save failed","error")}finally{m(l,!1)}}}async function p(D){try{await Ic(D),i(r)===D&&m(r,""),await u(),w("Deleted","success")}catch(B){console.error("Failed to delete preset:",B)}}function w(D,B){m(d,D,!0),m(c,B,!0),setTimeout(()=>{m(d,""),m(c,"")},2e3)}var b=ku(),x=$e(b),g=v(x),S=v(g),M=v(S);M.value=M.__value="";var O=f(M);fe(O,17,()=>i(s),pe,(D,B)=>{var K=yu(),re=v(K),oe={};I(()=>{Ws(K,"title",`${i(B).targets??""} | ${i(B).scan_type??""} | ${i(B).port_summary??""}`),C(re,i(B).name),oe!==(oe=i(B).name)&&(K.value=(K.__value=i(B).name)??"")}),y(D,K)});var A=f(S,2);{var R=D=>{var B=bu();Y("click",B,()=>p(i(r))),y(D,B)};z(A,D=>{i(r)&&D(R)})}var q=f(g,2),H=v(q),T=f(q,2);{var j=D=>{var B=wu(),K=v(B);I(()=>{Ce(B,1,`preset-status ${i(c)??""}`,"svelte-11f2g6p"),C(K,i(d))}),y(D,B)};z(T,D=>{i(d)&&D(j)})}var V=f(x,2);{var $=D=>{var B=xu(),K=v(B),re=f(K,2),oe=v(re);I(ne=>{re.disabled=ne,C(oe,i(l)?"Saving...":"Save")},[()=>i(l)||!i(a).trim()]),Y("keydown",K,ne=>{ne.key==="Enter"&&_(),ne.key==="Escape"&&m(n,!1)}),ue(K,()=>i(a),ne=>m(a,ne)),Y("click",re,_),y(D,B)};z(V,D=>{i(n)&&D($)})}I(()=>C(H,i(n)?"Cancel":"Save Preset")),Y("change",S,h),bs(S,()=>i(r),D=>m(r,D)),Y("click",q,()=>{m(n,!i(n)),i(n)&&m(a,"")}),y(t,b),te()}ye(["change","click","keydown"]);var fa=ws(()=>F),Pu=k('<div class="field svelte-1wh23yq"><label for="targets" class="label svelte-1wh23yq">Targets</label> <textarea id="targets" class="input mono svelte-1wh23yq" placeholder="IP, CIDR, range, or hostname (e.g., 192.168.1.0/24)" rows="2"></textarea></div>');function Eu(t,e){ee(e,!1),$t();var s=Pu(),r=f(v(s),2);ue(r,()=>fa().targets,n=>fa(fa().targets=n)),y(t,s),te()}var Cu=k('<input id="ports" type="text" class="input mono svelte-9brnqt" placeholder="80,443,1-1024"/>'),Tu=k('<div class="field svelte-9brnqt"><label for="ports" class="label svelte-9brnqt">Ports</label> <div class="port-row svelte-9brnqt"><select class="select svelte-9brnqt"><option>Top 1000 (default)</option><option>Top 100 (-F)</option><option>Common Web</option><option>All (1-65535)</option><option>Custom</option></select> <!></div></div>');function Ru(t,e){ee(e,!0);let s=P("default");function r(){switch(F.topPorts=null,i(s)){case"default":F.ports="";break;case"top100":F.ports="",F.topPorts=100;break;case"all":F.ports="1-65535";break;case"common-web":F.ports="80,443,8080,8443";break}}var n=Tu(),a=f(v(n),2),l=v(a),d=v(l);d.value=d.__value="default";var c=f(d);c.value=c.__value="top100";var u=f(c);u.value=u.__value="common-web";var h=f(u);h.value=h.__value="all";var _=f(h);_.value=_.__value="custom";var p=f(l,2);{var w=b=>{var x=Cu();ue(x,()=>F.ports,g=>F.ports=g),y(b,x)};z(p,b=>{i(s)==="custom"&&b(w)})}Y("change",l,r),bs(l,()=>i(s),b=>m(s,b)),y(t,n),te()}ye(["change"]);var gn;class Au{constructor(){E(this,gn,P(_e({raw_socket:!1,pcap:!1,npcap_installed:!1})))}get info(){return i(o(this,gn))}set info(e){m(o(this,gn),e,!0)}set(e){this.info=e}get hasRawSocket(){return this.info.raw_socket}get hasPcap(){return this.info.pcap}get isPrivileged(){return this.info.raw_socket||this.info.pcap}}gn=new WeakMap;const nr=new Au,kl=[{flag:"T",label:"TCP Connect",description:"Full TCP connection scan (no privileges required)",requiresPrivilege:!1},{flag:"S",label:"TCP SYN",description:"Half-open SYN scan (requires raw sockets)",requiresPrivilege:!0},{flag:"U",label:"UDP",description:"UDP port scan (requires raw sockets)",requiresPrivilege:!0},{flag:"F",label:"TCP FIN",description:"FIN stealth scan (requires raw sockets)",requiresPrivilege:!0},{flag:"N",label:"TCP Null",description:"Null scan â no flags set (requires raw sockets)",requiresPrivilege:!0},{flag:"X",label:"TCP Xmas",description:"Xmas scan â FIN+PSH+URG (requires raw sockets)",requiresPrivilege:!0},{flag:"A",label:"TCP ACK",description:"ACK scan for firewall detection (requires raw sockets)",requiresPrivilege:!0},{flag:"W",label:"TCP Window",description:"Window scan â like ACK but checks window size (requires raw sockets)",requiresPrivilege:!0},{flag:"M",label:"TCP Maimon",description:"Maimon scan â FIN+ACK (requires raw sockets)",requiresPrivilege:!0}],Mu=[{value:0,label:"T0 â Paranoid",description:"5 min delay between probes"},{value:1,label:"T1 â Sneaky",description:"15 sec delay between probes"},{value:2,label:"T2 â Polite",description:"400ms delay between probes"},{value:3,label:"T3 â Normal",description:"Default timing"},{value:4,label:"T4 â Aggressive",description:"Fast, assumes reliable network"},{value:5,label:"T5 â Insane",description:"Fastest, may miss results"}];var ha=ws(()=>F),Iu=k('<option class="svelte-dhcssz"> </option>'),Du=k('<div class="field svelte-dhcssz"><label for="scan-type" class="label svelte-dhcssz">Scan Type</label> <select id="scan-type" class="select svelte-dhcssz"></select></div>');function Fu(t,e){ee(e,!1),$t();var s=Du(),r=f(v(s),2);fe(r,5,()=>kl,pe,(n,a)=>{var l=Iu(),d=v(l),c={};I(()=>{l.disabled=i(a).requiresPrivilege&&!nr.isPrivileged,C(d,`${i(a).label??""}${i(a).requiresPrivilege&&!nr.isPrivileged?" (requires admin)":""}`),c!==(c=i(a).flag)&&(l.value=(l.__value=i(a).flag)??"")}),y(n,l)}),bs(r,()=>ha().scanType,n=>(ha(ha().scanType=n),sl(()=>{}))),y(t,s),te()}var pa=ws(()=>F),Nu=k("<option> </option>"),$u=k('<div class="field svelte-1lqtnho"><label for="timing" class="label svelte-1lqtnho">Timing</label> <select id="timing" class="select svelte-1lqtnho"></select></div>');function zu(t,e){ee(e,!1),$t();var s=$u(),r=f(v(s),2);fe(r,5,()=>Mu,pe,(n,a)=>{var l=Nu(),d=v(l),c={};I(()=>{C(d,i(a).label),c!==(c=i(a).value)&&(l.value=(l.__value=i(a).value)??"")}),y(n,l)}),bs(r,()=>pa().timing,n=>(pa(pa().timing=n),sl(()=>{}))),y(t,s),te()}var Ou=k('<label class="toggle svelte-1y9t36a"><input type="checkbox" class="toggle-input svelte-1y9t36a"/> <span class="toggle-track svelte-1y9t36a"><span class="toggle-thumb svelte-1y9t36a"></span></span> <span class="toggle-label svelte-1y9t36a"> </span></label>');function Ke(t,e){ee(e,!0);let s=As(e,"checked",15);var r=Ou(),n=v(r),a=f(n,4),l=v(a);I(()=>C(l,e.label)),mc(n,s),y(t,r),te()}var ce=ws(()=>F),qu=k('<div class="toggles svelte-1hadbvk"><!> <!> <!> <!> <!> <!> <!> <!> <!></div>');function Lu(t,e){ee(e,!1),$t();var s=qu(),r=v(s);Ke(r,{label:"Service Detection (-sV)",get checked(){return ce().serviceDetection},set checked(p){ce(ce().serviceDetection=p)},$$legacy:!0});var n=f(r,2);Ke(n,{label:"OS Detection (-O)",get checked(){return ce().osDetection},set checked(p){ce(ce().osDetection=p)},$$legacy:!0});var a=f(n,2);Ke(a,{label:"Traceroute (--traceroute)",get checked(){return ce().traceroute},set checked(p){ce(ce().traceroute=p)},$$legacy:!0});var l=f(a,2);Ke(l,{label:"Randomize Ports (-r)",get checked(){return ce().randomizePorts},set checked(p){ce(ce().randomizePorts=p)},$$legacy:!0});var d=f(l,2);Ke(d,{label:"MTU Discovery",get checked(){return ce().mtuDiscovery},set checked(p){ce(ce().mtuDiscovery=p)},$$legacy:!0});var c=f(d,2);Ke(c,{label:"Verbose (-v)",get checked(){return ce().verbose},set checked(p){ce(ce().verbose=p)},$$legacy:!0});var u=f(c,2);Ke(u,{label:"QUIC Probing",get checked(){return ce().quicProbing},set checked(p){ce(ce().quicProbing=p)},$$legacy:!0});var h=f(u,2);Ke(h,{label:"GeoIP Tagging (--geoip)",get checked(){return ce().geoipEnabled},set checked(p){ce(ce().geoipEnabled=p)},$$legacy:!0});var _=f(h,2);Ke(_,{label:"IPv6 Only (-6)",get checked(){return ce().ipv6Only},set checked(p){ce(ce().ipv6Only=p)},$$legacy:!0}),y(t,s),te()}var Hu=k('<div class="content svelte-gfepbm"><!></div>'),Uu=k('<div class="collapsible svelte-gfepbm"><button class="header svelte-gfepbm"><span> </span> <span class="title"> </span></button> <!></div>');function Fn(t,e){ee(e,!0);let s=As(e,"open",15,!1);var r=Uu(),n=v(r),a=v(n);let l;var d=v(a),c=f(a,2),u=v(c),h=f(n,2);{var _=p=>{var w=Hu(),b=v(w);hl(b,()=>e.children),y(p,w)};z(h,p=>{s()&&p(_)})}I(()=>{Ws(n,"aria-expanded",s()),l=Ce(a,1,"arrow svelte-gfepbm",null,l,{open:s()}),C(d,s()?"â¼":"â¶"),C(u,e.title)}),Y("click",n,()=>s(!s())),y(t,r),te()}ye(["click"]);var ju=k('<input type="text" class="input port-input svelte-g9lh7"/>'),Bu=k('<div class="probe-row svelte-g9lh7"><label class="probe-check svelte-g9lh7"><input type="checkbox"/> <span class="probe-label svelte-g9lh7"> </span></label> <!></div>'),Wu=k('<div class="probes-section svelte-g9lh7"><span class="label svelte-g9lh7">Probe Types</span> <div class="probes-grid svelte-g9lh7"></div></div>'),Vu=k('<div class="discovery svelte-g9lh7"><div class="field svelte-g9lh7"><label for="discovery-mode" class="label svelte-g9lh7">Discovery Mode</label> <select id="discovery-mode" class="input svelte-g9lh7"><option>Default</option><option>Skip (-Pn)</option><option>Ping Only (-sn)</option><option>Custom</option></select></div> <!></div>');function Ku(t,e){ee(e,!0);const s=[{id:"icmp_echo",label:"ICMP Echo (-PE)",hasPorts:!1},{id:"tcp_syn",label:"TCP SYN (-PS)",hasPorts:!0},{id:"tcp_ack",label:"TCP ACK (-PA)",hasPorts:!0},{id:"icmp_timestamp",label:"ICMP Timestamp (-PP)",hasPorts:!1},{id:"udp_ping",label:"UDP Ping (-PU)",hasPorts:!0},{id:"arp_ping",label:"ARP Ping (-PR)",hasPorts:!1},{id:"http_ping",label:"HTTP Ping (--PH)",hasPorts:!0},{id:"https_ping",label:"HTTPS Ping (--PHT)",hasPorts:!0}],r={tcp_syn:{get:()=>F.tcpSynPorts,set:l=>F.tcpSynPorts=l,placeholder:"443"},tcp_ack:{get:()=>F.tcpAckPorts,set:l=>F.tcpAckPorts=l,placeholder:"80"},udp_ping:{get:()=>F.udpPingPorts,set:l=>F.udpPingPorts=l,placeholder:"40125"},http_ping:{get:()=>F.httpPorts,set:l=>F.httpPorts=l,placeholder:"80"},https_ping:{get:()=>F.httpsPorts,set:l=>F.httpsPorts=l,placeholder:"443"}};function n(l){const d=F.discoveryMethods;d.includes(l)?F.discoveryMethods=d.filter(c=>c!==l):F.discoveryMethods=[...d,l]}const a=de(()=>F.discoveryMode==="custom");Fn(t,{title:"Host Discovery",children:(l,d)=>{var c=Vu(),u=v(c),h=f(v(u),2),_=v(h);_.value=_.__value="default";var p=f(_);p.value=p.__value="skip";var w=f(p);w.value=w.__value="ping_only";var b=f(w);b.value=b.__value="custom";var x=f(u,2);{var g=S=>{var M=Wu(),O=f(v(M),2);fe(O,21,()=>s,pe,(A,R)=>{var q=Bu(),H=v(q),T=v(H),j=f(T,2),V=v(j),$=f(H,2);{var D=K=>{var re=ju();I(oe=>{Ws(re,"placeholder",r[i(R).id].placeholder),_c(re,oe)},[()=>r[i(R).id].get()]),Y("input",re,oe=>r[i(R).id].set(oe.target.value)),y(K,re)},B=de(()=>i(R).hasPorts&&F.discoveryMethods.includes(i(R).id));z($,K=>{i(B)&&K(D)})}I(K=>{ml(T,K),C(V,i(R).label)},[()=>F.discoveryMethods.includes(i(R).id)]),Y("change",T,()=>n(i(R).id)),y(A,q)}),y(S,M)};z(x,S=>{i(a)&&S(g)})}bs(h,()=>F.discoveryMode,S=>F.discoveryMode=S),y(l,c)},$$slots:{default:!0}}),te()}ye(["change","input"]);var Gu=k('<span class="selected-count svelte-vnvnwu"> </span>'),Yu=k('<div class="loading svelte-vnvnwu">Loading scripts...</div>'),Qu=k('<div class="error svelte-vnvnwu"> </div>'),Ju=k("<button> </button>"),Xu=k('<div class="error svelte-vnvnwu"> </div>'),Zu=k('<span class="lang-badge svelte-vnvnwu"> </span>'),ev=k('<div class="script-desc svelte-vnvnwu"> </div>'),tv=k('<div class="custom-script-item svelte-vnvnwu"><div class="custom-script-info svelte-vnvnwu"><span class="script-id svelte-vnvnwu"> </span> <!> <span class="custom-script-path svelte-vnvnwu"> </span></div> <!> <button class="tag-remove svelte-vnvnwu">&times;</button></div>'),sv=k('<div class="custom-scripts-section svelte-vnvnwu"><span class="section-label svelte-vnvnwu">Custom Scripts:</span> <div class="custom-script-list svelte-vnvnwu"></div></div>'),rv=k('<span class="tag svelte-vnvnwu"> <button class="tag-remove svelte-vnvnwu">&times;</button></span>'),nv=k('<div class="selected-tags svelte-vnvnwu"></div>'),av=k("<span> </span>"),iv=k('<label><input type="checkbox" class="svelte-vnvnwu"/> <div class="script-info svelte-vnvnwu"><div class="script-header svelte-vnvnwu"><span class="script-id svelte-vnvnwu"> </span> <span class="lang-badge svelte-vnvnwu"> </span></div> <div class="script-desc svelte-vnvnwu"> </div> <div class="script-cats svelte-vnvnwu"></div></div></label>'),lv=k('<div class="no-results svelte-vnvnwu"> </div>'),ov=k('<div class="categories svelte-vnvnwu"><span class="section-label svelte-vnvnwu">Categories:</span> <!> <button class="category-btn select-action svelte-vnvnwu">All</button> <button class="category-btn select-action svelte-vnvnwu">None</button></div> <div class="pattern-row svelte-vnvnwu"><input class="input pattern-input svelte-vnvnwu" type="text" placeholder="Add pattern (e.g. http-*, smb-*)"/> <button class="add-btn svelte-vnvnwu">Add</button> <button class="browse-btn svelte-vnvnwu">Browse...</button></div> <!> <!> <!> <input class="input search-input svelte-vnvnwu" type="text" placeholder="Search scripts..."/> <div class="script-list svelte-vnvnwu"><!> <!></div> <div class="field svelte-vnvnwu"><label for="script-args" class="label svelte-vnvnwu">Script Arguments</label> <input id="script-args" class="input svelte-vnvnwu" type="text" placeholder="key1=val1,key2=val2"/></div>',1),cv=k('<div class="script-config svelte-vnvnwu"><div class="script-toggle-row svelte-vnvnwu"><!> <!></div> <!></div>');function uv(t,e){ee(e,!0);let s=P(_e([])),r=P(!1),n=P(""),a=P(""),l=P(""),d=!1,c=P(_e(new Map)),u=P("");const h=["default","safe","discovery","version","auth"],_=de(()=>i(a).trim()?i(s).filter(T=>T.id.toLowerCase().includes(i(a).toLowerCase())||T.description.toLowerCase().includes(i(a).toLowerCase())||T.categories.some(j=>j.toLowerCase().includes(i(a).toLowerCase()))):i(s)),p=de(()=>F.scripts.length+F.customScriptPaths.length);async function w(){if(!d){d=!0,m(r,!0),m(n,"");try{m(s,await Pc(),!0)}catch(T){m(n,String(T),!0)}finally{m(r,!1)}}}function b(T){F.scripts.indexOf(T)>=0?F.scripts=F.scripts.filter(V=>V!==T):F.scripts=[...F.scripts,T]}function x(T){const j=i(s).filter(D=>D.categories.includes(T)).map(D=>D.id),V=new Set(F.scripts);if(j.every(D=>V.has(D)))F.scripts=F.scripts.filter(D=>!j.includes(D));else{for(const D of j)V.add(D);F.scripts=[...V]}}function g(){const T=i(l).trim();T&&!F.scripts.includes(T)&&(F.scripts=[...F.scripts,T]),m(l,"")}function S(T){F.scripts=F.scripts.filter(j=>j!==T)}function M(){F.scripts=i(s).map(T=>T.id)}function O(){F.scripts=[]}function A(T){switch(T){case"safe":return"success";case"intrusive":case"exploit":case"dos":return"error";case"default":return"info";case"discovery":case"version":return"warning";default:return"muted"}}function R(T){switch(T){case"lua":return"Lua";case"python":return"Py";case"wasm":return"Wasm";default:return T}}async function q(){m(u,"");try{const T=await Ec()??void 0,j=await bl({multiple:!0,defaultPath:T,filters:[{name:"Scripts",extensions:["lua","py","wasm"]}],title:"Select Script Files"});if(!j)return;const $=(Array.isArray(j)?j:[j]).filter(K=>!F.customScriptPaths.includes(K));if($.length===0)return;const D=await Cc($),B=new Map(i(c));for(let K=0;K<$.length;K++)B.set($[K],D[K]);m(c,B,!0),F.customScriptPaths=[...F.customScriptPaths,...$]}catch(T){m(u,String(T),!0)}}function H(T){F.customScriptPaths=F.customScriptPaths.filter(V=>V!==T);const j=new Map(i(c));j.delete(T),m(c,j,!0)}Ft(()=>{F.scriptEnabled&&w()}),Fn(t,{title:"Scripts (NSE)",children:(T,j)=>{var V=cv(),$=v(V),D=v($);Ke(D,{label:"Enable Scripts (--script)",get checked(){return F.scriptEnabled},set checked(ne){F.scriptEnabled=ne}});var B=f(D,2);{var K=ne=>{var U=Gu(),W=v(U);I(()=>C(W,`${i(p)??""} selected`)),y(ne,U)};z(B,ne=>{i(p)>0&&ne(K)})}var re=f($,2);{var oe=ne=>{var U=ys(),W=$e(U);{var Q=we=>{var nt=Yu();y(we,nt)},ve=we=>{var nt=Qu(),St=v(nt);I(()=>C(St,`Failed to load scripts: ${i(n)??""}`)),y(we,nt)},be=we=>{var nt=ov(),St=$e(nt),xs=f(v(St),2);fe(xs,17,()=>h,pe,(le,he)=>{var Ae=Ju();let ft;var ze=v(Ae);I(Me=>{ft=Ce(Ae,1,"category-btn svelte-vnvnwu",null,ft,Me),C(ze,i(he))},[()=>({active:i(s).filter(Me=>Me.categories.includes(i(he))).every(Me=>F.scripts.includes(Me.id))})]),Y("click",Ae,()=>x(i(he))),y(le,Ae)});var ie=f(xs,2),je=f(ie,2),zt=f(St,2),at=v(zt),Ot=f(at,2),qt=f(Ot,2),Lt=f(zt,2);{var Jt=le=>{var he=Xu(),Ae=v(he);I(()=>C(Ae,i(u))),y(le,he)};z(Lt,le=>{i(u)&&le(Jt)})}var Xt=f(Lt,2);{var Fe=le=>{var he=sv(),Ae=f(v(he),2);fe(Ae,21,()=>F.customScriptPaths,pe,(ft,ze)=>{const Me=de(()=>i(c).get(i(ze)));var Zt=tv(),Gs=v(Zt),zn=v(Gs),ia=v(zn),On=f(zn,2);{var qn=Oe=>{var ht=Zu(),oa=v(ht);I(Cl=>C(oa,Cl),[()=>R(i(Me).language)]),y(Oe,ht)};z(On,Oe=>{i(Me)&&Oe(qn)})}var Ln=f(On,2),la=v(Ln),ks=f(Gs,2);{var Ss=Oe=>{var ht=ev(),oa=v(ht);I(()=>C(oa,i(Me).description)),y(Oe,ht)};z(ks,Oe=>{var ht;(ht=i(Me))!=null&&ht.description&&Oe(Ss)})}var es=f(ks,2);I(Oe=>{C(ia,Oe),Ws(Ln,"title",i(ze)),C(la,i(ze))},[()=>{var Oe;return((Oe=i(Me))==null?void 0:Oe.id)??i(ze).split(/[\\/]/).pop()}]),Y("click",es,()=>H(i(ze))),y(ft,Zt)}),y(le,he)};z(Xt,le=>{F.customScriptPaths.length>0&&le(Fe)})}var Be=f(Xt,2);{var G=le=>{var he=nv();fe(he,21,()=>F.scripts,pe,(Ae,ft)=>{var ze=rv(),Me=v(ze),Zt=f(Me);I(()=>C(Me,`${i(ft)??""} `)),Y("click",Zt,()=>S(i(ft))),y(Ae,ze)}),y(le,he)};z(Be,le=>{F.scripts.length>0&&le(G)})}var Vs=f(Be,2),Ks=f(Vs,2),Nn=v(Ks);fe(Nn,17,()=>i(_),pe,(le,he)=>{var Ae=iv();let ft;var ze=v(Ae),Me=f(ze,2),Zt=v(Me),Gs=v(Zt),zn=v(Gs),ia=f(Gs,2),On=v(ia),qn=f(Zt,2),Ln=v(qn),la=f(qn,2);fe(la,21,()=>i(he).categories,pe,(ks,Ss)=>{var es=av(),Oe=v(es);I(ht=>{Ce(es,1,`cat-tag cat-${ht??""}`,"svelte-vnvnwu"),C(Oe,i(Ss))},[()=>A(i(Ss))]),y(ks,es)}),I((ks,Ss,es)=>{ft=Ce(Ae,1,"script-item svelte-vnvnwu",null,ft,ks),ml(ze,Ss),C(zn,i(he).id),C(On,es),C(Ln,i(he).description)},[()=>({selected:F.scripts.includes(i(he).id)}),()=>F.scripts.includes(i(he).id),()=>R(i(he).language)]),Y("change",ze,()=>b(i(he).id)),y(le,Ae)});var $n=f(Nn,2);{var aa=le=>{var he=lv(),Ae=v(he);I(()=>C(Ae,`No scripts match "${i(a)??""}"`)),y(le,he)};z($n,le=>{i(_).length===0&&i(a)&&le(aa)})}var Pl=f(Ks,2),El=f(v(Pl),2);I(le=>Ot.disabled=le,[()=>!i(l).trim()]),Y("click",ie,M),Y("click",je,O),Y("keydown",at,le=>{le.key==="Enter"&&g()}),ue(at,()=>i(l),le=>m(l,le)),Y("click",Ot,g),Y("click",qt,q),ue(Vs,()=>i(a),le=>m(a,le)),ue(El,()=>F.scriptArgs,le=>F.scriptArgs=le),y(we,nt)};z(W,we=>{i(r)?we(Q):i(n)?we(ve,1):we(be,!1)})}y(ne,U)};z(re,ne=>{F.scriptEnabled&&ne(oe)})}y(T,V)},$$slots:{default:!0}}),te()}ye(["click","keydown","change"]);var L=ws(()=>F),vv=k('<div class="text-field svelte-sr6rz3"><label for="payload-value" class="label svelte-sr6rz3"> </label> <input id="payload-value" type="text" class="input svelte-sr6rz3"/></div>'),dv=k('<div class="grid svelte-sr6rz3"><div class="field svelte-sr6rz3"><label for="concurrency" class="label svelte-sr6rz3">Concurrency</label> <input id="concurrency" type="number" class="input svelte-sr6rz3" min="1" max="10000"/></div> <div class="field svelte-sr6rz3"><label for="timeout" class="label svelte-sr6rz3">Timeout (ms)</label> <input id="timeout" type="number" class="input svelte-sr6rz3" min="100"/></div> <div class="field svelte-sr6rz3"><label for="hostgroup" class="label svelte-sr6rz3">Max Hostgroup</label> <input id="hostgroup" type="number" class="input svelte-sr6rz3" min="1" max="65535"/></div> <div class="field svelte-sr6rz3"><label for="host-timeout" class="label svelte-sr6rz3">Host Timeout (ms)</label> <input id="host-timeout" type="number" class="input svelte-sr6rz3" min="0"/></div> <div class="field svelte-sr6rz3"><label for="min-rate" class="label svelte-sr6rz3">Min Rate (pkt/s)</label> <input id="min-rate" type="number" class="input svelte-sr6rz3" min="0" placeholder="â"/></div> <div class="field svelte-sr6rz3"><label for="max-rate" class="label svelte-sr6rz3">Max Rate (pkt/s)</label> <input id="max-rate" type="number" class="input svelte-sr6rz3" min="0" placeholder="â"/></div> <div class="field svelte-sr6rz3"><label for="source-port" class="label svelte-sr6rz3">Source Port</label> <input id="source-port" type="number" class="input svelte-sr6rz3" min="0" max="65535" placeholder="â"/></div> <div class="field svelte-sr6rz3"><label for="version-intensity" class="label svelte-sr6rz3">Version Intensity</label> <input id="version-intensity" type="number" class="input svelte-sr6rz3" min="0" max="9"/></div> <div class="field svelte-sr6rz3"><label for="scan-delay" class="label svelte-sr6rz3">Scan Delay (ms)</label> <input id="scan-delay" type="number" class="input svelte-sr6rz3" min="0"/></div> <div class="field svelte-sr6rz3"><label for="min-hostgroup" class="label svelte-sr6rz3">Min Hostgroup</label> <input id="min-hostgroup" type="number" class="input svelte-sr6rz3" min="1" max="65535"/></div> <div class="field svelte-sr6rz3"><label for="max-scan-delay" class="label svelte-sr6rz3">Max Scan Delay (ms)</label> <input id="max-scan-delay" type="number" class="input svelte-sr6rz3" min="0"/></div> <div class="field svelte-sr6rz3"><label for="probe-timeout" class="label svelte-sr6rz3">Probe Timeout (ms)</label> <input id="probe-timeout" type="number" class="input svelte-sr6rz3" min="0"/></div> <div class="field svelte-sr6rz3"><label for="ip-ttl" class="label svelte-sr6rz3">IP TTL</label> <input id="ip-ttl" type="number" class="input svelte-sr6rz3" min="1" max="255" placeholder="â"/></div> <div class="field toggle-field svelte-sr6rz3"><!></div> <div class="field toggle-field svelte-sr6rz3"><!></div></div> <div class="text-fields svelte-sr6rz3"><div class="text-field svelte-sr6rz3"><label for="proxy-url" class="label svelte-sr6rz3">SOCKS5 Proxy</label> <input id="proxy-url" type="text" class="input svelte-sr6rz3" placeholder="socks5://host:port"/></div> <div class="text-field svelte-sr6rz3"><label for="decoys" class="label svelte-sr6rz3">Decoy IPs</label> <input id="decoys" type="text" class="input svelte-sr6rz3" placeholder="10.0.0.1, 10.0.0.2"/></div> <div class="text-field svelte-sr6rz3"><label for="pre-resolved-up" class="label svelte-sr6rz3">Pre-resolved Up Hosts</label> <input id="pre-resolved-up" type="text" class="input svelte-sr6rz3" placeholder="192.168.1.1, 192.168.1.2"/></div> <div class="text-field svelte-sr6rz3"><label for="spoof-mac" class="label svelte-sr6rz3">Spoof MAC (--spoof-mac)</label> <input id="spoof-mac" type="text" class="input svelte-sr6rz3" placeholder="AA:BB:CC:DD:EE:FF or random"/></div></div> <div class="text-fields svelte-sr6rz3"><div class="text-field svelte-sr6rz3"><label for="payload-type" class="label svelte-sr6rz3">Custom Payload</label> <select id="payload-type" class="input svelte-sr6rz3"><option>None</option><option>Hex Bytes</option><option>ASCII String</option><option>Random Length</option></select></div> <!></div>',1);function fv(t,e){ee(e,!1),$t(),Fn(t,{title:"Advanced Options",children:(s,r)=>{var n=dv(),a=$e(n),l=v(a),d=f(v(l),2),c=f(l,2),u=f(v(c),2),h=f(c,2),_=f(v(h),2),p=f(h,2),w=f(v(p),2),b=f(p,2),x=f(v(b),2),g=f(b,2),S=f(v(g),2),M=f(g,2),O=f(v(M),2),A=f(M,2),R=f(v(A),2),q=f(A,2),H=f(v(q),2),T=f(q,2),j=f(v(T),2),V=f(T,2),$=f(v(V),2),D=f(V,2),B=f(v(D),2),K=f(D,2),re=f(v(K),2),oe=f(K,2),ne=v(oe);Ke(ne,{label:"Fragment Packets (-f)",get checked(){return L().fragmentPackets},set checked(G){L(L().fragmentPackets=G)},$$legacy:!0});var U=f(oe,2),W=v(U);Ke(W,{label:"Bad Checksum (--badsum)",get checked(){return L().badsum},set checked(G){L(L().badsum=G)},$$legacy:!0});var Q=f(a,2),ve=v(Q),be=f(v(ve),2),we=f(ve,2),nt=f(v(we),2),St=f(we,2),xs=f(v(St),2),ie=f(St,2),je=f(v(ie),2),zt=f(Q,2),at=v(zt),Ot=f(v(at),2),qt=v(Ot);qt.value=qt.__value="none";var Lt=f(qt);Lt.value=Lt.__value="hex";var Jt=f(Lt);Jt.value=Jt.__value="string";var Xt=f(Jt);Xt.value=Xt.__value="length";var Fe=f(at,2);{var Be=G=>{var Vs=vv(),Ks=v(Vs),Nn=v(Ks),$n=f(Ks,2);I(()=>{C(Nn,L().payloadType==="hex"?"Hex Data":L().payloadType==="string"?"String Data":"Byte Count"),Ws($n,"placeholder",L().payloadType==="hex"?"deadbeef":L().payloadType==="string"?"HELLO":"32")}),ue($n,()=>L().payloadValue,aa=>L(L().payloadValue=aa)),y(G,Vs)};z(Fe,G=>{L().payloadType!=="none"&&G(Be)})}ue(d,()=>L().concurrency,G=>L(L().concurrency=G)),ue(u,()=>L().timeoutMs,G=>L(L().timeoutMs=G)),ue(_,()=>L().maxHostgroup,G=>L(L().maxHostgroup=G)),ue(w,()=>L().hostTimeoutMs,G=>L(L().hostTimeoutMs=G)),ue(x,()=>L().minRate,G=>L(L().minRate=G)),ue(S,()=>L().maxRate,G=>L(L().maxRate=G)),ue(O,()=>L().sourcePort,G=>L(L().sourcePort=G)),ue(R,()=>L().versionIntensity,G=>L(L().versionIntensity=G)),ue(H,()=>L().scanDelayMs,G=>L(L().scanDelayMs=G)),ue(j,()=>L().minHostgroup,G=>L(L().minHostgroup=G)),ue($,()=>L().maxScanDelayMs,G=>L(L().maxScanDelayMs=G)),ue(B,()=>L().probeTimeoutMs,G=>L(L().probeTimeoutMs=G)),ue(re,()=>L().ipTtl,G=>L(L().ipTtl=G)),ue(be,()=>L().proxyUrl,G=>L(L().proxyUrl=G)),ue(nt,()=>L().decoys,G=>L(L().decoys=G)),ue(xs,()=>L().preResolvedUp,G=>L(L().preResolvedUp=G)),ue(je,()=>L().spoofMac,G=>L(L().spoofMac=G)),bs(Ot,()=>L().payloadType,G=>L(L().payloadType=G)),y(s,n)},$$slots:{default:!0}}),te()}var Pt=ws(()=>F),hv=k('<div class="interval-field svelte-105iz2w"><label for="watch-interval" class="label svelte-105iz2w">Interval (seconds)</label> <input id="watch-interval" type="number" class="input svelte-105iz2w" min="10" max="86400"/></div>'),pv=k('<p class="watch-hint text-muted svelte-105iz2w"> </p>'),_v=k('<div class="watch-row svelte-105iz2w"><!> <!></div> <!>',1);function gv(t,e){ee(e,!1),$t(),Fn(t,{title:"Watch Mode",children:(s,r)=>{var n=_v(),a=$e(n),l=v(a);Ke(l,{label:"Enable Watch Mode",get checked(){return Pt().watchEnabled},set checked(_){Pt(Pt().watchEnabled=_)},$$legacy:!0});var d=f(l,2);{var c=_=>{var p=hv(),w=f(v(p),2);ue(w,()=>Pt().watchIntervalSecs,b=>Pt(Pt().watchIntervalSecs=b)),y(_,p)};z(d,_=>{Pt().watchEnabled&&_(c)})}var u=f(a,2);{var h=_=>{var p=pv(),w=v(p);I(()=>C(w,`Rescans targets every ${Pt().watchIntervalSecs??""}s and reports changes. Use Stop to end.`)),y(_,p)};z(u,_=>{Pt().watchEnabled&&_(h)})}y(s,n)},$$slots:{default:!0}}),te()}var mn,yn,bn,wn;class mv{constructor(){E(this,mn,P(""));E(this,yn,P(""));E(this,bn,P(_e(new Set)));E(this,wn,P(_e(new Set)))}get searchQuery(){return i(o(this,mn))}set searchQuery(e){m(o(this,mn),e,!0)}get portFilter(){return i(o(this,yn))}set portFilter(e){m(o(this,yn),e,!0)}get stateFilters(){return i(o(this,bn))}set stateFilters(e){m(o(this,bn),e,!0)}get statusFilters(){return i(o(this,wn))}set statusFilters(e){m(o(this,wn),e,!0)}get hasActiveFilters(){return this.searchQuery.trim().length>0||this.portFilter.trim().length>0||this.stateFilters.size>0||this.statusFilters.size>0}get filteredHosts(){let e=N.hostResults;this.statusFilters.size>0&&(e=e.filter(r=>this.statusFilters.has(r.host_status)));const s=this.searchQuery.trim().toLowerCase();return s&&(e=e.filter(r=>{var n;return r.host.ip.toLowerCase().includes(s)||(((n=r.host.hostname)==null?void 0:n.toLowerCase().includes(s))??!1)})),this.stateFilters.size>0&&(e=e.filter(r=>r.ports.length===0?!0:this.filteredPorts(r).length>0)),e}get matchCount(){return this.filteredHosts.length}get totalCount(){return N.hostResults.length}filteredPorts(e){let s=e.ports;const r=this.parsePortFilter();return r&&(s=s.filter(n=>r.has(n.number))),this.stateFilters.size>0?s=s.filter(n=>this.stateFilters.has(n.state)):s=s.filter(n=>n.state==="open"||n.state==="openfiltered"),s}toggleStateFilter(e){const s=new Set(this.stateFilters);s.has(e)?s.delete(e):s.add(e),this.stateFilters=s}toggleStatusFilter(e){const s=new Set(this.statusFilters);s.has(e)?s.delete(e):s.add(e),this.statusFilters=s}reset(){this.searchQuery="",this.portFilter="",this.stateFilters=new Set,this.statusFilters=new Set}parsePortFilter(){const e=this.portFilter.trim();if(!e)return null;const s=new Set;for(const r of e.split(",")){const n=r.trim();if(n)if(n.includes("-")){const[a,l]=n.split("-"),d=parseInt(a,10),c=parseInt(l,10);if(!isNaN(d)&&!isNaN(c)){const u=Math.max(1,d),h=Math.min(65535,c);for(let _=u;_<=h;_++)s.add(_)}}else{const a=parseInt(n,10);isNaN(a)||s.add(a)}}return s.size>0?s:null}}mn=new WeakMap,yn=new WeakMap,bn=new WeakMap,wn=new WeakMap;const yt=new mv;var yv=k('<button class="btn btn-stop svelte-1l6el37">Stop</button>'),bv=k('<button class="btn btn-clear svelte-1l6el37">New Scan</button>'),wv=k('<!> <button class="btn btn-scan svelte-1l6el37"> </button>',1),xv=k('<div class="actions svelte-1l6el37"><!></div>');function kv(t,e){ee(e,!1);async function s(){if(!(!F.configValid||N.isScanning)){N.onStarting(),yt.reset();try{F.watchEnabled?await zc(F.config):await Ka(F.config)}catch(u){const{message:h,kind:_}=Dn(u);N.onScanError(h,_)}}}async function r(){if(N.scanId)try{await wl(N.scanId)}catch(u){console.error("Failed to stop scan:",u)}}function n(){N.reset(),yt.reset()}$t();var a=xv(),l=v(a);{var d=u=>{var h=yv();Y("click",h,r),y(u,h)},c=u=>{var h=wv(),_=$e(h);{var p=x=>{var g=bv();Y("click",g,n),y(x,g)};z(_,x=>{(N.phase==="complete"||N.phase==="error")&&x(p)})}var w=f(_,2),b=v(w);I(()=>{w.disabled=!F.configValid,C(b,F.watchEnabled?"Watch":"Scan")}),Y("click",w,s),y(u,h)};z(l,u=>{N.isScanning?u(d):u(c,!1)})}y(t,a),te()}ye(["click"]);var Sv=k('<div class="privilege-warning svelte-12pmnw2"><span class="warning-icon svelte-12pmnw2">\\u26A0</span> <span> </span></div>'),Pv=k('<section class="config-panel svelte-12pmnw2"><!> <div class="config-grid svelte-12pmnw2"><!> <div class="config-row svelte-12pmnw2"><!> <!> <!></div> <!> <!> <!> <!> <!></div> <!> <!></section>');function Ev(t,e){ee(e,!0);const s=de(()=>kl.find(A=>A.flag===F.scanType)),r=de(()=>{var A;return((A=i(s))==null?void 0:A.requiresPrivilege)&&!nr.isPrivileged});var n=Pv(),a=v(n);Su(a,{});var l=f(a,2),d=v(l);Eu(d,{});var c=f(d,2),u=v(c);Ru(u,{});var h=f(u,2);Fu(h,{});var _=f(h,2);zu(_,{});var p=f(c,2);Lu(p,{});var w=f(p,2);Ku(w,{});var b=f(w,2);uv(b,{});var x=f(b,2);fv(x,{});var g=f(x,2);gv(g,{});var S=f(l,2);{var M=A=>{var R=Sv(),q=f(v(R),2),H=v(q);I(()=>{var T;return C(H,`${((T=i(s))==null?void 0:T.label)??""} requires administrator privileges. The scan may fail.`)}),y(A,R)};z(S,A=>{i(r)&&A(M)})}var O=f(S,2);kv(O,{}),y(t,n),te()}var Cv=k('<div class="progress svelte-1d6w9uk"><div class="progress-info svelte-1d6w9uk"><span class="progress-label svelte-1d6w9uk"> </span> <span class="progress-time text-muted"> </span> <span class="progress-percent svelte-1d6w9uk"> </span></div> <div class="progress-track svelte-1d6w9uk"><div></div></div></div>');function Tv(t,e){ee(e,!0);let s=P("0s"),r=null;Ft(()=>(N.isScanning&&N.startedAt?r=setInterval(()=>{m(s,Vc(N.startedAt),!0)},1e3):r&&(clearInterval(r),r=null),()=>{r&&clearInterval(r)}));var n=Cv(),a=v(n),l=v(a),d=v(l),c=f(l,2),u=v(c),h=f(c,2),_=v(h),p=f(a,2),w=v(p);let b;I(()=>{C(d,`${N.hostsCompleted??""}/${N.hostsTotal??""} hosts`),C(u,i(s)),C(_,`${N.progressPercent??""}%`),b=Ce(w,1,"progress-fill svelte-1d6w9uk",null,b,{complete:N.phase==="complete"}),Ia(w,`width: ${N.progressPercent??""}%`)}),y(t,n),te()}var Rv=k('<div class="log-entry svelte-m93uvi"><span class="log-time svelte-m93uvi"> </span> <span class="log-msg svelte-m93uvi"> </span></div>'),Av=k('<div class="log-entries svelte-m93uvi"></div>'),Mv=k('<div><button class="log-header svelte-m93uvi"><span class="log-icon svelte-m93uvi"> </span> <span class="log-title svelte-m93uvi"> </span></button> <!></div>');function Iv(t,e){ee(e,!0);let s=P(!0),r=P(void 0);const n=de(()=>N.logEntries.length);Ft(()=>{!N.isScanning&&N.phase==="complete"&&m(s,!1)}),Ft(()=>{N.isScanning&&m(s,!0)}),Ft(()=>{N.logEntries.length,i(s)&&i(r)&&requestAnimationFrame(()=>{i(r)&&(i(r).scrollTop=i(r).scrollHeight)})});var a=ys(),l=$e(a);{var d=c=>{var u=Mv();let h;var _=v(u),p=v(_),w=v(p),b=f(p,2),x=v(b),g=f(_,2);{var S=M=>{var O=Av();fe(O,21,()=>N.logEntries,pe,(A,R)=>{var q=Rv(),H=v(q),T=v(H),j=f(H,2),V=v(j);I(()=>{C(T,i(R).relativeTime),C(V,i(R).message)}),y(A,q)}),yc(O,A=>m(r,A),()=>i(r)),y(M,O)};z(g,M=>{i(s)&&M(S)})}I(()=>{h=Ce(u,1,"activity-log svelte-m93uvi",null,h,{expanded:i(s)}),C(w,i(s)?"â¼":"â¶"),C(x,`Activity Log (${i(n)??""})`)}),Y("click",_,()=>m(s,!i(s))),y(c,u)};z(l,c=>{N.logEntries.length>0&&c(d)})}y(t,a),te()}ye(["click"]);var Dv=k("<span><!></span>");function is(t,e){let s=As(e,"variant",3,"muted");var r=Dv(),n=v(r);hl(n,()=>e.children),I(()=>Ce(r,1,`badge badge-${s()??""}`,"svelte-1archkf")),y(t,r)}var Fv=k('<div class="summary svelte-1b1bnsn"><!> <!> <!> <!></div>');function Nv(t,e){ee(e,!0);const s=de(()=>{var u;return((u=N.finalResult)==null?void 0:u.total_duration)??null});var r=Fv(),n=v(r);is(n,{variant:"info",children:(u,h)=>{var _=bt();I(()=>C(_,`${N.hostResults.length??""} hosts scanned`)),y(u,_)},$$slots:{default:!0}});var a=f(n,2);is(a,{variant:"success",children:(u,h)=>{var _=bt();I(()=>C(_,`${N.hostsUp??""} up`)),y(u,_)},$$slots:{default:!0}});var l=f(a,2);is(l,{variant:"info",children:(u,h)=>{var _=bt();I(()=>C(_,`${N.openPortCount??""} open ports`)),y(u,_)},$$slots:{default:!0}});var d=f(l,2);{var c=u=>{is(u,{variant:"muted",children:(h,_)=>{var p=bt();I(w=>C(p,w),[()=>xl(i(s))]),y(h,p)},$$slots:{default:!0}})};z(d,u=>{i(s)&&u(c)})}y(t,r),te()}var $v=k('<div class="script svelte-10ua0nq"><span class="script-id mono svelte-10ua0nq"> </span> <pre class="script-output mono svelte-10ua0nq"> </pre></div>'),zv=k('<div class="script-results svelte-10ua0nq"></div>');function Sl(t,e){ee(e,!0);var s=ys(),r=$e(s);{var n=a=>{var l=zv();fe(l,21,()=>e.scripts,pe,(d,c)=>{var u=$v(),h=v(u),_=v(h),p=f(h,2),w=v(p);I(()=>{C(_,`${i(c).id??""}:`),C(w,i(c).output)}),y(d,u)}),y(a,l)};z(r,a=>{e.scripts.length>0&&a(n)})}y(t,s),te()}var Ov=k('<tr class="script-row svelte-1xie56s"><td colspan="5" class="svelte-1xie56s"><!></td></tr>'),qv=k('<tr><td class="mono svelte-1xie56s"> </td><td class="state-cell svelte-1xie56s"> </td><td class="svelte-1xie56s"> </td><td class="text-muted svelte-1xie56s"> </td><td class="text-muted svelte-1xie56s"> </td></tr> <!>',1),Lv=k('<div class="port-table-wrapper svelte-1xie56s"><table class="port-table svelte-1xie56s"><thead><tr><th class="svelte-1xie56s">Port</th><th class="svelte-1xie56s">State</th><th class="svelte-1xie56s">Service</th><th class="svelte-1xie56s">Version</th><th class="svelte-1xie56s">Reason</th></tr></thead><tbody></tbody></table></div>');function Hv(t,e){ee(e,!0);function s(c){switch(c){case"open":return"state-open";case"closed":return"state-closed";case"filtered":case"openfiltered":case"closedfiltered":case"unfiltered":return"state-filtered";default:return""}}function r(c){var u;return((u=c.service_info)==null?void 0:u.name)??c.service??"â"}function n(c){return c.service_info?[c.service_info.product,c.service_info.version,c.service_info.info?`(${c.service_info.info})`:null].filter(Boolean).join(" "):""}var a=Lv(),l=v(a),d=f(v(l));fe(d,21,()=>e.ports,pe,(c,u)=>{var h=qv(),_=$e(h),p=v(_),w=v(p),b=f(p),x=v(b),g=f(b),S=v(g),M=f(g),O=v(M),A=f(M),R=v(A),q=f(_,2);{var H=T=>{var j=Ov(),V=v(j),$=v(V);{let D=de(()=>i(u).script_results??[]);Sl($,{get scripts(){return i(D)}})}y(T,j)};z(q,T=>{(i(u).script_results??[]).length>0&&T(H)})}I((T,j,V,$)=>{Ce(_,1,T,"svelte-1xie56s"),C(w,`${i(u).number??""}/${j??""}`),C(x,i(u).state),C(S,V),C(O,$),C(R,i(u).reason??"")},[()=>cc(s(i(u).state)),()=>i(u).protocol.toLowerCase(),()=>r(i(u)),()=>n(i(u))]),y(c,h)}),y(t,a),te()}var Uv=k('<span class="os-accuracy mono text-muted svelte-9vh6fj"> </span>'),jv=k('<span class="os-detail text-muted svelte-9vh6fj"> </span>'),Bv=k('<div class="os-info svelte-9vh6fj"><h4 class="section-title svelte-9vh6fj">OS Detection</h4> <div class="os-match svelte-9vh6fj"><span class="os-name svelte-9vh6fj"> </span> <!></div> <!></div>');function Wv(t,e){ee(e,!0);const s=de(()=>[e.fingerprint.os_family,e.fingerprint.os_generation].filter(Boolean).join(" ")||null);var r=ys(),n=$e(r);{var a=l=>{var d=Bv(),c=f(v(d),2),u=v(c),h=v(u),_=f(u,2);{var p=x=>{var g=Uv(),S=v(g);I(()=>C(S,`${e.fingerprint.accuracy??""}%`)),y(x,g)};z(_,x=>{e.fingerprint.accuracy!=null&&x(p)})}var w=f(c,2);{var b=x=>{var g=jv(),S=v(g);I(()=>C(S,e.fingerprint.os_detail)),y(x,g)};z(w,x=>{e.fingerprint.os_detail&&x(b)})}I(()=>C(h,i(s))),y(l,d)};z(n,l=>{i(s)&&l(a)})}y(t,r),te()}var Vv=k('<span class="hostname text-muted svelte-1s11eut"> </span>'),Kv=k('<span class="os-hint text-muted svelte-1s11eut"> </span>'),Gv=k('<div class="scan-error-detail svelte-1s11eut"><span class="error-label svelte-1s11eut">Scan failed:</span> <span class="error-msg svelte-1s11eut"> </span></div>'),Yv=k('<p class="no-data text-muted svelte-1s11eut">No ports match filters</p>'),Qv=k("<span> </span>"),Jv=k("<span> </span>"),Xv=k("<span> </span>"),Zv=k('<div class="geo-info svelte-1s11eut"><span class="section-label svelte-1s11eut">GeoIP</span> <div class="geo-details svelte-1s11eut"><!> <!> <!></div></div>'),ed=k('<div class="card-body svelte-1s11eut"><!> <!> <!> <!> <!> <div class="host-meta text-muted svelte-1s11eut"><span> </span></div></div>'),td=k('<div><div class="card-header svelte-1s11eut" role="button" tabindex="0"><span class="host-ip mono svelte-1s11eut"> </span> <!> <!> <!> <!> <span class="spacer svelte-1s11eut"></span> <span class="latency text-muted mono svelte-1s11eut"> </span> <span class="expand-icon svelte-1s11eut"> </span></div> <!></div>');function sd(t,e){ee(e,!0);let s=P(!1);const r=de(()=>e.hostResult.ports.filter($=>$.state==="open").length),n=de(()=>e.hostResult.host_status==="Up"?"success":e.hostResult.host_status==="Down"?"error":"muted"),a=de(()=>{var $;return(($=e.hostResult.os_fingerprint)==null?void 0:$.os_family)??null}),l=de(()=>e.hostResult.scan_error!=null&&e.hostResult.scan_error.length>0),d=de(()=>yt.filteredPorts(e.hostResult));var c=td();let u;var h=v(c),_=v(h),p=v(_),w=f(_,2);{var b=$=>{var D=Vv(),B=v(D);I(()=>C(B,`(${e.hostResult.host.hostname??""})`)),y($,D)};z(w,$=>{e.hostResult.host.hostname&&$(b)})}var x=f(w,2);is(x,{get variant(){return i(n)},children:($,D)=>{var B=bt();I(()=>C(B,e.hostResult.host_status)),y($,B)},$$slots:{default:!0}});var g=f(x,2);{var S=$=>{is($,{variant:"error",children:(D,B)=>{var K=bt("scan error");y(D,K)},$$slots:{default:!0}})},M=$=>{is($,{variant:"success",children:(D,B)=>{var K=bt();I(()=>C(K,`${i(r)??""} open`)),y(D,K)},$$slots:{default:!0}})};z(g,$=>{i(l)?$(S):i(r)>0&&$(M,1)})}var O=f(g,2);{var A=$=>{var D=Kv(),B=v(D);I(()=>C(B,i(a))),y($,D)};z(O,$=>{i(a)&&$(A)})}var R=f(O,4),q=v(R),H=f(R,2),T=v(H),j=f(h,2);{var V=$=>{var D=ed(),B=v(D);{var K=ie=>{var je=Gv(),zt=f(v(je),2),at=v(zt);I(()=>C(at,e.hostResult.scan_error)),y(ie,je)};z(B,ie=>{i(l)&&ie(K)})}var re=f(B,2);{var oe=ie=>{Hv(ie,{get ports(){return i(d)}})},ne=ie=>{var je=Yv();y(ie,je)};z(re,ie=>{i(d).length>0?ie(oe):i(l)||ie(ne,1)})}var U=f(re,2);{var W=ie=>{var je=Zv(),zt=f(v(je),2),at=v(zt);{var Ot=Fe=>{var Be=Qv(),G=v(Be);I(()=>C(G,`${e.hostResult.host.geo_info.country_code??""??""} - ${e.hostResult.host.geo_info.country??""}`)),y(Fe,Be)};z(at,Fe=>{e.hostResult.host.geo_info.country&&Fe(Ot)})}var qt=f(at,2);{var Lt=Fe=>{var Be=Jv(),G=v(Be);I(()=>C(G,e.hostResult.host.geo_info.city)),y(Fe,Be)};z(qt,Fe=>{e.hostResult.host.geo_info.city&&Fe(Lt)})}var Jt=f(qt,2);{var Xt=Fe=>{var Be=Xv(),G=v(Be);I(()=>C(G,`AS${e.hostResult.host.geo_info.asn??""} ${e.hostResult.host.geo_info.as_org??""??""}`)),y(Fe,Be)};z(Jt,Fe=>{e.hostResult.host.geo_info.asn&&Fe(Xt)})}y(ie,je)};z(U,ie=>{e.hostResult.host.geo_info&&ie(W)})}var Q=f(U,2);{var ve=ie=>{Wv(ie,{get fingerprint(){return e.hostResult.os_fingerprint}})};z(Q,ie=>{e.hostResult.os_fingerprint&&ie(ve)})}var be=f(Q,2);{var we=ie=>{{let je=de(()=>e.hostResult.host_script_results??[]);Sl(ie,{get scripts(){return i(je)}})}};z(be,ie=>{(e.hostResult.host_script_results??[]).length>0&&ie(we)})}var nt=f(be,2),St=v(nt),xs=v(St);I(ie=>C(xs,`Port scan: ${ie??""}`),[()=>xl(e.hostResult.scan_duration)]),y($,D)};z(j,$=>{i(s)&&$(V)})}I($=>{u=Ce(c,1,"host-card svelte-1s11eut",null,u,{expanded:i(s),"has-error":i(l)}),C(p,e.hostResult.host.ip),C(q,$),C(T,i(s)?"â¼":"â¶")},[()=>Bc(e.hostResult.discovery_latency)]),Y("click",h,()=>m(s,!i(s))),Y("keydown",h,$=>{($.key==="Enter"||$.key===" ")&&($.preventDefault(),m(s,!i(s)))}),y(t,c),te()}ye(["click","keydown"]);var rd=k('<p class="no-match text-muted svelte-1o8bdf">No hosts match the current filters</p>'),nd=k('<div class="show-more svelte-1o8bdf"><button class="show-more-btn svelte-1o8bdf"> </button> <button class="show-all-btn svelte-1o8bdf"> </button></div>'),ad=k('<div class="host-list svelte-1o8bdf"><!> <!></div>');function id(t,e){ee(e,!0);const s=100;let r=P(s),n=0;Ft(()=>{const b=yt.filteredHosts.length;b<n&&m(r,s),n=b});let a=de(()=>yt.filteredHosts.slice(0,i(r))),l=de(()=>yt.filteredHosts.length>i(r)),d=de(()=>yt.filteredHosts.length-i(r));function c(){m(r,i(r)+s)}function u(){m(r,yt.filteredHosts.length,!0)}var h=ad(),_=v(h);fe(_,17,()=>i(a),b=>b.host.ip,(b,x)=>{sd(b,{get hostResult(){return i(x)}})},b=>{var x=ys(),g=$e(x);{var S=M=>{var O=rd();y(M,O)};z(g,M=>{yt.hasActiveFilters&&M(S)})}y(b,x)});var p=f(_,2);{var w=b=>{var x=nd(),g=v(x),S=v(g),M=f(g,2),O=v(M);I(A=>{C(S,`Show ${A??""} more`),C(O,`Show all (${i(d)??""} remaining)`)},[()=>Math.min(s,i(d))]),Y("click",g,c),Y("click",M,u),y(b,x)};z(p,b=>{i(l)&&b(w)})}y(t,h),te()}ye(["click"]);var Ne=ws(()=>yt),ld=k("<button> </button>"),od=k("<button> </button>"),cd=k('<button class="chip chip-clear svelte-twsri6">Clear</button>'),ud=k('<span class="filter-count text-muted svelte-twsri6"> </span>'),vd=k('<div class="filter-bar svelte-twsri6"><div class="filter-inputs svelte-twsri6"><input id="filter-search" type="text" class="filter-input mono svelte-twsri6" placeholder="Filter by IP or hostname..."/> <input type="text" class="filter-input filter-port mono svelte-twsri6" placeholder="Port (e.g., 80,443)"/></div> <div class="filter-chips svelte-twsri6"><span class="chip-group-label svelte-twsri6">State:</span> <!> <span class="chip-divider svelte-twsri6"></span> <span class="chip-group-label svelte-twsri6">Host:</span> <!> <!></div> <!></div>');function dd(t,e){ee(e,!1);const s=[{value:"open",label:"Open",cssClass:"chip-open"},{value:"closed",label:"Closed",cssClass:"chip-closed"},{value:"filtered",label:"Filtered",cssClass:"chip-filtered"}],r=[{value:"Up",label:"Up"},{value:"Down",label:"Down"}];$t();var n=vd(),a=v(n),l=v(a),d=f(l,2),c=f(a,2),u=f(v(c),2);fe(u,1,()=>s,pe,(x,g)=>{var S=ld();let M;var O=v(S);I(A=>{M=Ce(S,1,`chip ${i(g).cssClass??""}`,"svelte-twsri6",M,A),C(O,i(g).label)},[()=>({active:Ne().stateFilters.has(i(g).value)})]),Y("click",S,()=>Ne().toggleStateFilter(i(g).value)),y(x,S)});var h=f(u,6);fe(h,1,()=>r,pe,(x,g)=>{var S=od();let M;var O=v(S);I(A=>{M=Ce(S,1,"chip svelte-twsri6",null,M,A),C(O,i(g).value)},[()=>({active:Ne().statusFilters.has(i(g).value)})]),Y("click",S,()=>Ne().toggleStatusFilter(i(g).value)),y(x,S)});var _=f(h,2);{var p=x=>{var g=cd();Y("click",g,()=>Ne().reset()),y(x,g)};z(_,x=>{Ne().hasActiveFilters&&x(p)})}var w=f(c,2);{var b=x=>{var g=ud(),S=v(g);I(()=>C(S,`${Ne().matchCount??""} of ${Ne().totalCount??""} hosts`)),y(x,g)};z(w,x=>{Ne().hasActiveFilters&&x(b)})}ue(l,()=>Ne().searchQuery,x=>Ne(Ne().searchQuery=x)),ue(d,()=>Ne().portFilter,x=>Ne(Ne().portFilter=x)),y(t,n),te()}ye(["click"]);var fd=k("<span> </span>"),hd=k('<div class="export svelte-1a0ntzx"><select class="select svelte-1a0ntzx"><option>JSON</option><option>XML</option><option>Normal</option><option>Grepable</option></select> <button class="btn svelte-1a0ntzx"> </button> <!></div>');function pd(t,e){ee(e,!0);let s=P("json"),r=P(!1),n=P(""),a=P("");const l={json:"json",xml:"xml",normal:"txt",grepable:"gnmap"},d={json:"JSON",xml:"XML",normal:"Text",grepable:"Grepable"};function c(A,R){m(n,A,!0),m(a,R,!0),setTimeout(()=>{m(n,""),m(a,"")},3e3)}async function u(){if(!N.scanId||i(r))return;const A=l[i(s)]??"txt",R=await wc({defaultPath:`rustmap-scan.${A}`,filters:[{name:d[i(s)]??i(s),extensions:[A]},{name:"All Files",extensions:["*"]}]});if(R){m(r,!0);try{await Tc(N.scanId,i(s),R),c("Saved","success")}catch(q){console.error("Export failed:",q),c("Export failed","error")}finally{m(r,!1)}}}var h=hd(),_=v(h),p=v(_);p.value=p.__value="json";var w=f(p);w.value=w.__value="xml";var b=f(w);b.value=b.__value="normal";var x=f(b);x.value=x.__value="grepable";var g=f(_,2),S=v(g),M=f(g,2);{var O=A=>{var R=fd(),q=v(R);I(()=>{Ce(R,1,`status ${i(a)??""}`,"svelte-1a0ntzx"),C(q,i(n))}),y(A,R)};z(M,A=>{i(n)&&A(O)})}I(()=>{g.disabled=i(r),C(S,i(r)?"Saving...":"Export")}),bs(_,()=>i(s),A=>m(s,A)),Y("click",g,u),y(t,h),te()}ye(["click"]);var _d=k('<span class="risk-badge svelte-1yo6rdm"> </span>'),gd=k('<span class="text-secondary"> </span>'),md=k('<div class="vuln-item svelte-1yo6rdm"><div class="vuln-header svelte-1yo6rdm"><span class="cve-id mono svelte-1yo6rdm"> </span> <span class="cvss-badge svelte-1yo6rdm"> </span></div> <p class="vuln-desc svelte-1yo6rdm"> </p></div>'),yd=k('<div class="port-vulns svelte-1yo6rdm"><div class="port-header svelte-1yo6rdm"><span class="mono"> </span> <!></div> <!></div>'),bd=k('<div class="host-vulns svelte-1yo6rdm"><div class="host-header svelte-1yo6rdm"><span class="host-ip mono svelte-1yo6rdm"> </span> <!></div> <!></div>'),wd=k('<div class="vuln-list svelte-1yo6rdm"></div>');function xd(t,e){ee(e,!0);function s(a){return a===null?"#888888":a>=9?"#ff3333":a>=7?"#ff8c00":a>=4?"#ffc94d":"#4f8cff"}function r(a){return a===null?"N/A":a>=9?"Critical":a>=7?"High":a>=4?"Medium":"Low"}const n=de(()=>e.results.reduce((a,l)=>a+l.port_vulns.reduce((d,c)=>d+c.vulns.length,0),0));Fn(t,{get title(){return`Vulnerabilities (${i(n)??""} found)`},children:(a,l)=>{var d=wd();fe(d,21,()=>e.results,pe,(c,u)=>{var h=bd(),_=v(h),p=v(_),w=v(p),b=f(p,2);{var x=S=>{var M=_d(),O=v(M);I((A,R)=>{Ia(M,`color: ${A??""}`),C(O,`Risk: ${R??""}`)},[()=>s(i(u).risk_score),()=>i(u).risk_score.toFixed(1)]),y(S,M)};z(b,S=>{i(u).risk_score!==null&&S(x)})}var g=f(_,2);fe(g,17,()=>i(u).port_vulns,pe,(S,M)=>{var O=yd(),A=v(O),R=v(A),q=v(R),H=f(R,2);{var T=V=>{var $=gd(),D=v($);I(()=>C(D,`${i(M).product??""}${i(M).version?` ${i(M).version}`:""}`)),y(V,$)};z(H,V=>{i(M).product&&V(T)})}var j=f(A,2);fe(j,17,()=>i(M).vulns,pe,(V,$)=>{var D=md(),B=v(D),K=v(B),re=v(K),oe=f(K,2),ne=v(oe),U=f(B,2),W=v(U);I((Q,ve,be,we)=>{C(re,i($).cve_id),Ia(oe,`background: ${Q??""}20; color: ${ve??""}`),C(ne,`${be??""} ${we??""}`),C(W,i($).description)},[()=>s(i($).cvss_score),()=>s(i($).cvss_score),()=>i($).cvss_score!==null?i($).cvss_score.toFixed(1):"?",()=>r(i($).cvss_score)]),y(V,D)}),I(()=>C(q,`${i(M).port??""}/${i(M).protocol??""}`)),y(S,O)}),I(()=>C(w,i(u).ip)),y(c,h)}),y(a,d)},$$slots:{default:!0}}),te()}var kd=k('<div class="header-actions svelte-1885lht"><button class="vuln-btn svelte-1885lht" title="Check for known CVEs"> </button> <!></div>'),Sd=k('<section class="results svelte-1885lht"><div class="results-header svelte-1885lht"><!> <!></div> <!> <!> <!></section>');function Pd(t,e){ee(e,!0);let s=P(_e([])),r=P(!1);async function n(){if(N.scanId){m(r,!0);try{m(s,await $c(N.scanId),!0),i(s).length===0&&et.info("No vulnerabilities found")}catch(b){et.error("Vuln check failed: "+String(b))}finally{m(r,!1)}}}var a=Sd(),l=v(a),d=v(l);Nv(d,{});var c=f(d,2);{var u=b=>{var x=kd(),g=v(x),S=v(g),M=f(g,2);pd(M,{}),I(()=>{g.disabled=i(r),C(S,i(r)?"Checking...":"Check CVEs")}),Y("click",g,n),y(b,x)};z(c,b=>{N.phase==="complete"&&b(u)})}var h=f(l,2);dd(h,{});var _=f(h,2);{var p=b=>{xd(b,{get results(){return i(s)}})};z(_,b=>{i(s).length>0&&b(p)})}var w=f(_,2);id(w,{}),y(t,a),te()}ye(["click"]);var Ed=k('<div class="empty svelte-12a7iif"><div class="empty-icon svelte-12a7iif">&#x1F50D;</div> <p class="empty-title svelte-12a7iif">Ready to Scan</p> <p class="empty-text text-muted svelte-12a7iif">Enter a target and click Scan to begin</p></div>');function Cd(t){var e=Ed();y(t,e)}var Td=k('<span class="error-hint svelte-1jb0s8w"> </span>'),Rd=k('<div><div class="error-content svelte-1jb0s8w"><span class="error-icon svelte-1jb0s8w"> </span> <div class="error-text svelte-1jb0s8w"><span class="error-title svelte-1jb0s8w"> </span> <span class="error-message svelte-1jb0s8w"> </span> <!></div></div> <div class="error-actions svelte-1jb0s8w"><button class="error-retry svelte-1jb0s8w" title="Retry scan">Retry</button> <button class="error-dismiss svelte-1jb0s8w" title="Dismiss"></button></div></div>'),Ad=k('<main class="main-panel svelte-1jb0s8w"><!> <!> <!> <!> <!></main>');function Md(t,e){ee(e,!0);async function s(){N.dismissError(),N.onStarting();try{await Ka(F.config)}catch(x){const{message:g,kind:S}=Dn(x);N.onScanError(g,S)}}const r=de(()=>{switch(N.errorKind){case"privilege":return{icon:"â ",title:"Privilege Error",hint:"This scan type requires administrator/root privileges. Try running as admin, or use TCP Connect (-sT) which works unprivileged.",cssClass:"error-privilege"};case"config":return{icon:"â",title:"Configuration Error",hint:"Check your scan targets and port specification.",cssClass:"error-config"};case"backend":return{icon:"â¡",title:"Backend Error",hint:"An unexpected error occurred in the scan engine.",cssClass:"error-backend"};default:return{icon:"â",title:"Scan Error",hint:null,cssClass:"error-scan"}}});var n=Ad(),a=v(n);Ev(a,{});var l=f(a,2);{var d=x=>{Tv(x,{})};z(l,x=>{N.isScanning&&x(d)})}var c=f(l,2);{var u=x=>{var g=Rd(),S=v(g),M=v(S),O=v(M),A=f(M,2),R=v(A),q=v(R),H=f(R,2),T=v(H),j=f(H,2);{var V=K=>{var re=Td(),oe=v(re);I(()=>C(oe,i(r).hint)),y(K,re)};z(j,K=>{i(r).hint&&K(V)})}var $=f(S,2),D=v($),B=f(D,2);B.textContent="â",I(()=>{Ce(g,1,`error-banner ${i(r).cssClass??""}`,"svelte-1jb0s8w"),C(O,i(r).icon),C(q,`${i(r).title??""}:`),C(T,N.error)}),Y("click",D,s),Y("click",B,()=>N.dismissError()),y(x,g)};z(c,x=>{N.error&&x(u)})}var h=f(c,2);{var _=x=>{Iv(x,{})};z(h,x=>{N.logEntries.length>0&&x(_)})}var p=f(h,2);{var w=x=>{Pd(x,{})},b=x=>{Cd(x)};z(p,x=>{N.phase==="complete"||N.hostResults.length>0?x(w):N.phase==="idle"&&x(b,1)})}y(t,n),te()}ye(["click"]);const fi="rustmap-theme";var xn;class Id{constructor(){E(this,xn,P("dark"));const e=localStorage.getItem(fi);this.current=e==="light"?"light":"dark",this.apply()}get current(){return i(o(this,xn))}set current(e){m(o(this,xn),e,!0)}toggle(){this.current=this.current==="dark"?"light":"dark",localStorage.setItem(fi,this.current),this.apply()}apply(){document.documentElement.setAttribute("data-theme",this.current)}}xn=new WeakMap;const hi=new Id;class Dd extends di{constructor(e){super(e.rid),this.available=!0,this.currentVersion=e.currentVersion,this.version=e.version,this.date=e.date,this.body=e.body,this.rawJson=e.rawJson}async download(e,s){Da(s);const r=new vi;e&&(r.onmessage=e);const n=await se("plugin:updater|download",{onEvent:r,rid:this.rid,...s});this.downloadedBytes=new di(n)}async install(){if(!this.downloadedBytes)throw new Error("Update.install called before Update.download");await se("plugin:updater|install",{updateRid:this.rid,bytesRid:this.downloadedBytes.rid}),this.downloadedBytes=void 0}async downloadAndInstall(e,s){Da(s);const r=new vi;e&&(r.onmessage=e),await se("plugin:updater|download_and_install",{onEvent:r,rid:this.rid,...s})}async close(){var e;await((e=this.downloadedBytes)==null?void 0:e.close()),await super.close()}}async function Fd(t){Da(t);const e=await se("plugin:updater|check",{...t});return e?new Dd(e):null}function Da(t){t!=null&&t.headers&&(t.headers=Array.from(new Headers(t.headers).entries()))}async function Nd(){await se("plugin:process|restart")}var kn,Sn,Pn,En;class $d{constructor(){E(this,kn,P(!1));E(this,Sn,P(null));E(this,Pn,P(!1));E(this,En,P(null));it(this,"update",null)}get available(){return i(o(this,kn))}set available(e){m(o(this,kn),e,!0)}get version(){return i(o(this,Sn))}set version(e){m(o(this,Sn),e,!0)}get downloading(){return i(o(this,Pn))}set downloading(e){m(o(this,Pn),e,!0)}get error(){return i(o(this,En))}set error(e){m(o(this,En),e,!0)}async checkForUpdates(){try{this.error=null;const e=await Fd();e&&(this.available=!0,this.version=e.version,this.update=e)}catch(e){console.debug("Update check failed:",e)}}async downloadAndInstall(){if(this.update){this.downloading=!0,this.error=null;try{await this.update.downloadAndInstall(),await Nd()}catch(e){this.error=String(e),this.downloading=!1}}}dismiss(){this.available=!1,this.version=null,this.update=null}}kn=new WeakMap,Sn=new WeakMap,Pn=new WeakMap,En=new WeakMap;const Ts=new $d;var zd=k('<span class="badge badge-success svelte-g9asya">Privileged</span>'),Od=k('<span class="badge badge-warning svelte-g9asya">Unprivileged</span>'),qd=dl('<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>'),Ld=dl('<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>'),Hd=k('<button class="update-badge svelte-g9asya" title="Click to update and restart"> </button>'),Ud=k('<footer class="status-bar svelte-g9asya"><span class="status-item svelte-g9asya"><!></span> <span class="status-item text-muted svelte-g9asya"><!></span> <span class="spacer svelte-g9asya"></span> <button class="theme-toggle svelte-g9asya" title="Toggle theme" aria-label="Toggle theme"><!></button> <!> <span class="status-item text-muted svelte-g9asya"> </span></footer>');function jd(t,e){ee(e,!0);let s=P("...");Fc().then(R=>m(s,R,!0));var r=Ud(),n=v(r),a=v(n);{var l=R=>{var q=zd();y(R,q)},d=R=>{var q=Od();y(R,q)};z(a,R=>{nr.isPrivileged?R(l):R(d,!1)})}var c=f(n,2),u=v(c);{var h=R=>{var q=bt();I(()=>C(q,`Scanning... ${N.hostsCompleted??""}/${N.hostsTotal??""}`)),y(R,q)},_=R=>{var q=bt("Scan complete");y(R,q)},p=R=>{var q=bt("Ready");y(R,q)};z(u,R=>{N.isScanning?R(h):N.phase==="complete"?R(_,1):R(p,!1)})}var w=f(c,4),b=v(w);{var x=R=>{var q=qd();y(R,q)},g=R=>{var q=Ld();y(R,q)};z(b,R=>{hi.current==="dark"?R(x):R(g,!1)})}var S=f(w,2);{var M=R=>{var q=Hd(),H=v(q);I(()=>{q.disabled=Ts.downloading,C(H,Ts.downloading?"Updating...":`Update v${Ts.version}`)}),Y("click",q,()=>Ts.downloadAndInstall()),y(R,q)};z(S,R=>{Ts.available&&R(M)})}var O=f(S,2),A=v(O);I(()=>C(A,`v${i(s)??""}`)),Y("click",w,()=>hi.toggle()),y(t,r),te()}ye(["click"]);var Bd=k('<div class="layout svelte-3rx7k1"><!> <!> <!></div>');function Wd(t){var e=Bd(),s=v(e);gu(s);var r=f(s,2);Md(r,{});var n=f(r,2);jd(n,{}),y(t,e)}const er=[];function ss(t){return er.push(t),()=>{const e=er.indexOf(t);e>=0&&er.splice(e,1)}}function _a(t){var s;const e=(s=t.target)==null?void 0:s.tagName;if(!((e==="INPUT"||e==="TEXTAREA"||e==="SELECT")&&t.key!=="Escape"))for(const r of er){const n=r.ctrl?t.ctrlKey||t.metaKey:!(t.ctrlKey||t.metaKey),a=r.shift?t.shiftKey:!t.shiftKey,l=r.alt?t.altKey:!t.altKey;if(t.key===r.key&&n&&a&&l){t.preventDefault(),r.action();return}}}function Vd(){return er}function Kd(t){const e=[];return t.ctrl&&e.push("Ctrl"),t.shift&&e.push("Shift"),t.alt&&e.push("Alt"),e.push(t.label),e.join("+")}var Gd=k('<div class="shortcut-row svelte-f3m2ha"><kbd class="shortcut-key mono svelte-f3m2ha"> </kbd> <span class="shortcut-desc svelte-f3m2ha"> </span></div>'),Yd=k('<div class="overlay svelte-f3m2ha" role="button" tabindex="-1"><div class="dialog svelte-f3m2ha" role="dialog" aria-label="Keyboard shortcuts" tabindex="-1"><div class="dialog-header svelte-f3m2ha"><h3 class="dialog-title svelte-f3m2ha">Keyboard Shortcuts</h3> <button class="close-btn svelte-f3m2ha"></button></div> <div class="shortcuts-list svelte-f3m2ha"></div></div></div>');function Qd(t,e){ee(e,!0);const s=de(Vd);var r=ys(),n=$e(r);{var a=l=>{var d=Yd(),c=v(d),u=v(c),h=f(v(u),2);h.textContent="â";var _=f(u,2);fe(_,21,()=>i(s),pe,(p,w)=>{var b=Gd(),x=v(b),g=v(x),S=f(x,2),M=v(S);I(O=>{C(g,O),C(M,i(w).description)},[()=>Kd(i(w))]),y(p,b)}),Y("click",d,function(...p){var w;(w=e.onclose)==null||w.apply(this,p)}),Y("click",c,p=>p.stopPropagation()),Y("click",h,function(...p){var w;(w=e.onclose)==null||w.apply(this,p)}),y(l,d)};z(n,l=>{e.visible&&l(a)})}y(t,r),te()}ye(["click"]);var pi;(function(t){t.WINDOW_RESIZED="tauri://resize",t.WINDOW_MOVED="tauri://move",t.WINDOW_CLOSE_REQUESTED="tauri://close-requested",t.WINDOW_DESTROYED="tauri://destroyed",t.WINDOW_FOCUS="tauri://focus",t.WINDOW_BLUR="tauri://blur",t.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",t.WINDOW_THEME_CHANGED="tauri://theme-changed",t.WINDOW_CREATED="tauri://window-created",t.WEBVIEW_CREATED="tauri://webview-created",t.DRAG_ENTER="tauri://drag-enter",t.DRAG_OVER="tauri://drag-over",t.DRAG_DROP="tauri://drag-drop",t.DRAG_LEAVE="tauri://drag-leave"})(pi||(pi={}));async function Jd(t,e){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(t,e),await se("plugin:event|unlisten",{event:t,eventId:e})}async function Es(t,e,s){var r;const n=(r=void 0)!==null&&r!==void 0?r:{kind:"Any"};return se("plugin:event|listen",{event:t,target:n,handler:yl(e)}).then(a=>async()=>Jd(t,a))}function Wn(){xc().then(t=>{De.set(t)}).catch(t=>{console.error("Failed to load scan history:",t)}),De.loadCheckpoints()}function Xd(){const t=[];let e=[],s=null;function r(){e.length!==0&&(N.onHostResultBatch(e),e=[],s=null)}return Wn(),t.push(Es("scan-started",n=>{N.onScanStarted(n.payload.scan_id,n.payload.hosts_total)})),t.push(Es("host-result",n=>{e.push(n.payload),e.length>=50?(s&&(clearTimeout(s),s=null),r()):s||(s=setTimeout(r,100))})),t.push(Es("scan-complete",n=>{r(),N.onScanComplete(n.payload.result),Wn();const a=n.payload.result.hosts.length,l=n.payload.result.hosts.reduce((d,c)=>d+c.ports.filter(u=>u.state==="open").length,0);et.success(`Scan complete: ${a} host(s), ${l} open port(s)`)})),t.push(Es("scan-error",n=>{N.onScanError(n.payload.error),Wn()})),t.push(Es("scan-log",n=>{N.onScanLog(n.payload.message)})),t.push(Es("watch-iteration",n=>{const{iteration:a,diff:l}=n.payload;if(Wn(),l){const d=l.new_hosts.length+l.removed_hosts.length+l.port_changes.length;d>0?et.warn(`Watch #${a}: ${d} change(s) detected`):et.info(`Watch #${a}: no changes`)}else et.info(`Watch #${a}: baseline scan complete`)})),()=>{s&&(clearTimeout(s),s=null);for(const n of t)n.then(a=>a()).catch(()=>{})}}var Zd=k('<div><span class="toast-message svelte-uysgto"> </span> <button class="toast-close svelte-uysgto" aria-label="Dismiss"></button></div>'),ef=k('<div class="toast-container svelte-uysgto" aria-live="polite" aria-atomic="false"></div>');function tf(t,e){ee(e,!1),$t();var s=ys(),r=$e(s);{var n=a=>{var l=ef();fe(l,5,()=>et.toasts,d=>d.id,(d,c)=>{var u=Zd(),h=v(u),_=v(h),p=f(h,2);p.textContent="â",I(()=>{Ce(u,1,`toast toast-${i(c).type??""}`,"svelte-uysgto"),C(_,i(c).message)}),Y("click",p,()=>et.dismiss(i(c).id)),y(d,u)}),y(a,l)};z(r,a=>{et.toasts.length>0&&a(n)})}y(t,s),te()}ye(["click"]);var sf=k("<!> <!> <!>",1);function rf(t,e){ee(e,!0);let s=P(!1);pl(()=>{const d=Xd();Sc().then(u=>{nr.set(u)}),setTimeout(()=>Ts.checkForUpdates(),3e3);const c=[ss({key:"Enter",ctrl:!0,label:"Enter",description:"Start scan",action:async()=>{if(!(!F.configValid||N.isScanning)){N.onStarting();try{await Ka(F.config)}catch(u){const{message:h,kind:_}=Dn(u);N.onScanError(h,_)}}}}),ss({key:"Escape",label:"Esc",description:"Stop scan",action:async()=>{if(i(s)){m(s,!1);return}if(N.scanId&&N.isScanning)try{await wl(N.scanId)}catch(u){console.error("Failed to stop scan:",u)}}}),ss({key:"e",ctrl:!0,label:"E",description:"Export results (JSON to clipboard)",action:async()=>{if(!(!N.scanId||N.phase!=="complete"))try{const u=await Ga(N.scanId,"json");await navigator.clipboard.writeText(u),et.success("Results copied to clipboard")}catch(u){et.error("Export failed: "+String(u))}}}),ss({key:"l",ctrl:!0,label:"L",description:"Clear results",action:()=>{N.isScanning||N.reset()}}),ss({key:"f",ctrl:!0,label:"F",description:"Focus filter bar",action:()=>{const u=document.getElementById("filter-search");u&&u.focus()}}),ss({key:"?",label:"?",description:"Show keyboard shortcuts",action:()=>{m(s,!i(s))}}),ss({key:"F1",label:"F1",description:"Show keyboard shortcuts",action:()=>{m(s,!i(s))}})];return()=>{d();for(const u of c)u()}});var r=sf();Xo("keydown",Ca,function(...d){_a==null||_a.apply(this,d)});var n=$e(r);Wd(n);var a=f(n,2);Qd(a,{get visible(){return i(s)},onclose:()=>m(s,!1)});var l=f(a,2);tf(l,{}),y(t,r),te()}tc(rf,{target:document.getElementById("app")});
